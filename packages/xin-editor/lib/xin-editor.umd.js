(function(vr,F){typeof exports=="object"&&typeof module<"u"?F(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],F):(vr=typeof globalThis<"u"?globalThis:vr||self,F(vr["xin-editor"]={},vr.React,vr.ReactDOM))})(this,function(vr,F,ii){"use strict";var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wt={exports:{}},Kr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln;function si(){if(Ln)return Kr;Ln=1;var r=F,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(l,f,c){var v,D={},g=null,C=null;c!==void 0&&(g=""+c),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(C=f.ref);for(v in f)n.call(f,v)&&!a.hasOwnProperty(v)&&(D[v]=f[v]);if(l&&l.defaultProps)for(v in f=l.defaultProps,f)D[v]===void 0&&(D[v]=f[v]);return{$$typeof:e,type:l,key:g,ref:C,props:D,_owner:u.current}}return Kr.Fragment=t,Kr.jsx=i,Kr.jsxs=i,Kr}var Ur={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn;function oi(){return Wn||(Wn=1,process.env.NODE_ENV!=="production"&&function(){var r=F,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),m=Symbol.iterator,o="@@iterator";function B(d){if(d===null||typeof d!="object")return null;var P=m&&d[m]||d[o];return typeof P=="function"?P:null}var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(d){{for(var P=arguments.length,q=new Array(P>1?P-1:0),J=1;J<P;J++)q[J-1]=arguments[J];S("error",d,q)}}function S(d,P,q){{var J=b.ReactDebugCurrentFrame,le=J.getStackAddendum();le!==""&&(P+="%s",q=q.concat([le]));var he=q.map(function(se){return String(se)});he.unshift("Warning: "+P),Function.prototype.apply.call(console[d],console,he)}}var N=!1,$=!1,W=!1,z=!1,U=!1,I;I=Symbol.for("react.module.reference");function V(d){return!!(typeof d=="string"||typeof d=="function"||d===n||d===a||U||d===u||d===c||d===v||z||d===C||N||$||W||typeof d=="object"&&d!==null&&(d.$$typeof===g||d.$$typeof===D||d.$$typeof===i||d.$$typeof===l||d.$$typeof===f||d.$$typeof===I||d.getModuleId!==void 0))}function _(d,P,q){var J=d.displayName;if(J)return J;var le=P.displayName||P.name||"";return le!==""?q+"("+le+")":q}function T(d){return d.displayName||"Context"}function L(d){if(d==null)return null;if(typeof d.tag=="number"&&A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case n:return"Fragment";case t:return"Portal";case a:return"Profiler";case u:return"StrictMode";case c:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case l:var P=d;return T(P)+".Consumer";case i:var q=d;return T(q._context)+".Provider";case f:return _(d,d.render,"ForwardRef");case D:var J=d.displayName||null;return J!==null?J:L(d.type)||"Memo";case g:{var le=d,he=le._payload,se=le._init;try{return L(se(he))}catch{return null}}}return null}var j=Object.assign,M=0,re,Y,ce,X,ne,ge,ve;function Fe(){}Fe.__reactDisabledLog=!0;function p(){{if(M===0){re=console.log,Y=console.info,ce=console.warn,X=console.error,ne=console.group,ge=console.groupCollapsed,ve=console.groupEnd;var d={configurable:!0,enumerable:!0,value:Fe,writable:!0};Object.defineProperties(console,{info:d,log:d,warn:d,error:d,group:d,groupCollapsed:d,groupEnd:d})}M++}}function O(){{if(M--,M===0){var d={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:j({},d,{value:re}),info:j({},d,{value:Y}),warn:j({},d,{value:ce}),error:j({},d,{value:X}),group:j({},d,{value:ne}),groupCollapsed:j({},d,{value:ge}),groupEnd:j({},d,{value:ve})})}M<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var y=b.ReactCurrentDispatcher,k;function Q(d,P,q){{if(k===void 0)try{throw Error()}catch(le){var J=le.stack.trim().match(/\n( *(at )?)/);k=J&&J[1]||""}return`
`+k+d}}var G=!1,ee;{var oe=typeof WeakMap=="function"?WeakMap:Map;ee=new oe}function ie(d,P){if(!d||G)return"";{var q=ee.get(d);if(q!==void 0)return q}var J;G=!0;var le=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var he;he=y.current,y.current=null,p();try{if(P){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(cr){J=cr}Reflect.construct(d,[],se)}else{try{se.call()}catch(cr){J=cr}d.call(se.prototype)}}else{try{throw Error()}catch(cr){J=cr}d()}}catch(cr){if(cr&&J&&typeof cr.stack=="string"){for(var ae=cr.stack.split(`
`),ke=J.stack.split(`
`),ye=ae.length-1,xe=ke.length-1;ye>=1&&xe>=0&&ae[ye]!==ke[xe];)xe--;for(;ye>=1&&xe>=0;ye--,xe--)if(ae[ye]!==ke[xe]){if(ye!==1||xe!==1)do if(ye--,xe--,xe<0||ae[ye]!==ke[xe]){var _e=`
`+ae[ye].replace(" at new "," at ");return d.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",d.displayName)),typeof d=="function"&&ee.set(d,_e),_e}while(ye>=1&&xe>=0);break}}}finally{G=!1,y.current=he,O(),Error.prepareStackTrace=le}var Hr=d?d.displayName||d.name:"",ai=Hr?Q(Hr):"";return typeof d=="function"&&ee.set(d,ai),ai}function De(d,P,q){return ie(d,!1)}function ue(d){var P=d.prototype;return!!(P&&P.isReactComponent)}function be(d,P,q){if(d==null)return"";if(typeof d=="function")return ie(d,ue(d));if(typeof d=="string")return Q(d);switch(d){case c:return Q("Suspense");case v:return Q("SuspenseList")}if(typeof d=="object")switch(d.$$typeof){case f:return De(d.render);case D:return be(d.type,P,q);case g:{var J=d,le=J._payload,he=J._init;try{return be(he(le),P,q)}catch{}}}return""}var Ae=Object.prototype.hasOwnProperty,Ce={},We=b.ReactDebugCurrentFrame;function Ie(d){if(d){var P=d._owner,q=be(d.type,d._source,P?P.type:null);We.setExtraStackFrame(q)}else We.setExtraStackFrame(null)}function je(d,P,q,J,le){{var he=Function.call.bind(Ae);for(var se in d)if(he(d,se)){var ae=void 0;try{if(typeof d[se]!="function"){var ke=Error((J||"React class")+": "+q+" type `"+se+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof d[se]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ke.name="Invariant Violation",ke}ae=d[se](P,se,J,q,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ye){ae=ye}ae&&!(ae instanceof Error)&&(Ie(le),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",J||"React class",q,se,typeof ae),Ie(null)),ae instanceof Error&&!(ae.message in Ce)&&(Ce[ae.message]=!0,Ie(le),A("Failed %s type: %s",q,ae.message),Ie(null))}}}var He=Array.isArray;function de(d){return He(d)}function Se(d){{var P=typeof Symbol=="function"&&Symbol.toStringTag,q=P&&d[Symbol.toStringTag]||d.constructor.name||"Object";return q}}function Oe(d){try{return we(d),!1}catch{return!0}}function we(d){return""+d}function ze(d){if(Oe(d))return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Se(d)),we(d)}var ur=b.ReactCurrentOwner,Ke={key:!0,ref:!0,__self:!0,__source:!0},ar,Nr,Ze;Ze={};function Tn(d){if(Ae.call(d,"ref")){var P=Object.getOwnPropertyDescriptor(d,"ref").get;if(P&&P.isReactWarning)return!1}return d.ref!==void 0}function jn(d){if(Ae.call(d,"key")){var P=Object.getOwnPropertyDescriptor(d,"key").get;if(P&&P.isReactWarning)return!1}return d.key!==void 0}function lt(d,P){if(typeof d.ref=="string"&&ur.current&&P&&ur.current.stateNode!==P){var q=L(ur.current.type);Ze[q]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',L(ur.current.type),d.ref),Ze[q]=!0)}}function Nn(d,P){{var q=function(){ar||(ar=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};q.isReactWarning=!0,Object.defineProperty(d,"key",{get:q,configurable:!0})}}function Rn(d,P){{var q=function(){Nr||(Nr=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};q.isReactWarning=!0,Object.defineProperty(d,"ref",{get:q,configurable:!0})}}var Mn=function(d,P,q,J,le,he,se){var ae={$$typeof:e,type:d,key:P,ref:q,props:se,_owner:he};return ae._store={},Object.defineProperty(ae._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ae,"_self",{configurable:!1,enumerable:!1,writable:!1,value:J}),Object.defineProperty(ae,"_source",{configurable:!1,enumerable:!1,writable:!1,value:le}),Object.freeze&&(Object.freeze(ae.props),Object.freeze(ae)),ae};function In(d,P,q,J,le){{var he,se={},ae=null,ke=null;q!==void 0&&(ze(q),ae=""+q),jn(P)&&(ze(P.key),ae=""+P.key),Tn(P)&&(ke=P.ref,lt(P,le));for(he in P)Ae.call(P,he)&&!Ke.hasOwnProperty(he)&&(se[he]=P[he]);if(d&&d.defaultProps){var ye=d.defaultProps;for(he in ye)se[he]===void 0&&(se[he]=ye[he])}if(ae||ke){var xe=typeof d=="function"?d.displayName||d.name||"Unknown":d;ae&&Nn(se,xe),ke&&Rn(se,xe)}return Mn(d,ae,ke,le,J,ur.current,se)}}var ft=b.ReactCurrentOwner,Lt=b.ReactDebugCurrentFrame;function qr(d){if(d){var P=d._owner,q=be(d.type,d._source,P?P.type:null);Lt.setExtraStackFrame(q)}else Lt.setExtraStackFrame(null)}var kn;kn=!1;function $n(d){return typeof d=="object"&&d!==null&&d.$$typeof===e}function ei(){{if(ft.current){var d=L(ft.current.type);if(d)return`

Check the render method of \``+d+"`."}return""}}function Dv(d){{if(d!==void 0){var P=d.fileName.replace(/^.*[\\\/]/,""),q=d.lineNumber;return`

Check your code at `+P+":"+q+"."}return""}}var ri={};function gv(d){{var P=ei();if(!P){var q=typeof d=="string"?d:d.displayName||d.name;q&&(P=`

Check the top-level render call using <`+q+">.")}return P}}function ti(d,P){{if(!d._store||d._store.validated||d.key!=null)return;d._store.validated=!0;var q=gv(P);if(ri[q])return;ri[q]=!0;var J="";d&&d._owner&&d._owner!==ft.current&&(J=" It was passed a child from "+L(d._owner.type)+"."),qr(d),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',q,J),qr(null)}}function ni(d,P){{if(typeof d!="object")return;if(de(d))for(var q=0;q<d.length;q++){var J=d[q];$n(J)&&ti(J,P)}else if($n(d))d._store&&(d._store.validated=!0);else if(d){var le=B(d);if(typeof le=="function"&&le!==d.entries)for(var he=le.call(d),se;!(se=he.next()).done;)$n(se.value)&&ti(se.value,P)}}}function mv(d){{var P=d.type;if(P==null||typeof P=="string")return;var q;if(typeof P=="function")q=P.propTypes;else if(typeof P=="object"&&(P.$$typeof===f||P.$$typeof===D))q=P.propTypes;else return;if(q){var J=L(P);je(q,d.props,"prop",J,d)}else if(P.PropTypes!==void 0&&!kn){kn=!0;var le=L(P);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",le||"Unknown")}typeof P.getDefaultProps=="function"&&!P.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pv(d){{for(var P=Object.keys(d.props),q=0;q<P.length;q++){var J=P[q];if(J!=="children"&&J!=="key"){qr(d),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",J),qr(null);break}}d.ref!==null&&(qr(d),A("Invalid attribute `ref` supplied to `React.Fragment`."),qr(null))}}function ui(d,P,q,J,le,he){{var se=V(d);if(!se){var ae="";(d===void 0||typeof d=="object"&&d!==null&&Object.keys(d).length===0)&&(ae+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ke=Dv(le);ke?ae+=ke:ae+=ei();var ye;d===null?ye="null":de(d)?ye="array":d!==void 0&&d.$$typeof===e?(ye="<"+(L(d.type)||"Unknown")+" />",ae=" Did you accidentally export a JSX literal instead of a component?"):ye=typeof d,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ye,ae)}var xe=In(d,P,q,le,he);if(xe==null)return xe;if(se){var _e=P.children;if(_e!==void 0)if(J)if(de(_e)){for(var Hr=0;Hr<_e.length;Hr++)ni(_e[Hr],d);Object.freeze&&Object.freeze(_e)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ni(_e,d)}return d===n?pv(xe):mv(xe),xe}}function Cv(d,P,q){return ui(d,P,q,!0)}function Bv(d,P,q){return ui(d,P,q,!1)}var Ev=Bv,bv=Cv;Ur.Fragment=n,Ur.jsx=Ev,Ur.jsxs=bv}()),Ur}process.env.NODE_ENV==="production"?Wt.exports=si():Wt.exports=oi();var Xe=Wt.exports,li=vi,zn="֑-߿יִ-﷽ﹰ-ﻼ",Vn="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",fi=new RegExp("^[^"+Vn+"]*["+zn+"]"),ci=new RegExp("^[^"+zn+"]*["+Vn+"]");function vi(r){return r=String(r||""),fi.test(r)?"rtl":ci.test(r)?"ltr":"neutral"}const qn=vt(li);function di(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var zt=di,hi=typeof ct=="object"&&ct&&ct.Object===Object&&ct,Di=hi,gi=Di,mi=typeof self=="object"&&self&&self.Object===Object&&self,pi=gi||mi||Function("return this")(),Hn=pi,Ci=Hn,Bi=function(){return Ci.Date.now()},Ei=Bi,bi=/\s/;function Ai(r){for(var e=r.length;e--&&bi.test(r.charAt(e)););return e}var Fi=Ai,wi=Fi,yi=/^\s+/;function Oi(r){return r&&r.slice(0,wi(r)+1).replace(yi,"")}var xi=Oi,Pi=Hn,Si=Pi.Symbol,Kn=Si,Un=Kn,Yn=Object.prototype,Ti=Yn.hasOwnProperty,ji=Yn.toString,Yr=Un?Un.toStringTag:void 0;function Ni(r){var e=Ti.call(r,Yr),t=r[Yr];try{r[Yr]=void 0;var n=!0}catch{}var u=ji.call(r);return n&&(e?r[Yr]=t:delete r[Yr]),u}var Ri=Ni,Mi=Object.prototype,Ii=Mi.toString;function ki(r){return Ii.call(r)}var $i=ki,Gn=Kn,Li=Ri,Wi=$i,zi="[object Null]",Vi="[object Undefined]",_n=Gn?Gn.toStringTag:void 0;function qi(r){return r==null?r===void 0?Vi:zi:_n&&_n in Object(r)?Li(r):Wi(r)}var Hi=qi;function Ki(r){return r!=null&&typeof r=="object"}var Ui=Ki,Yi=Hi,Gi=Ui,_i="[object Symbol]";function Xi(r){return typeof r=="symbol"||Gi(r)&&Yi(r)==_i}var Ji=Xi,Zi=xi,Xn=zt,Qi=Ji,Jn=NaN,es=/^[-+]0x[0-9a-f]+$/i,rs=/^0b[01]+$/i,ts=/^0o[0-7]+$/i,ns=parseInt;function us(r){if(typeof r=="number")return r;if(Qi(r))return Jn;if(Xn(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Xn(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=Zi(r);var t=rs.test(r);return t||ts.test(r)?ns(r.slice(2),t?2:8):es.test(r)?Jn:+r}var as=us,is=zt,Vt=Ei,Zn=as,ss="Expected a function",os=Math.max,ls=Math.min;function fs(r,e,t){var n,u,a,i,l,f,c=0,v=!1,D=!1,g=!0;if(typeof r!="function")throw new TypeError(ss);e=Zn(e)||0,is(t)&&(v=!!t.leading,D="maxWait"in t,a=D?os(Zn(t.maxWait)||0,e):a,g="trailing"in t?!!t.trailing:g);function C(W){var z=n,U=u;return n=u=void 0,c=W,i=r.apply(U,z),i}function m(W){return c=W,l=setTimeout(b,e),v?C(W):i}function o(W){var z=W-f,U=W-c,I=e-z;return D?ls(I,a-U):I}function B(W){var z=W-f,U=W-c;return f===void 0||z>=e||z<0||D&&U>=a}function b(){var W=Vt();if(B(W))return A(W);l=setTimeout(b,o(W))}function A(W){return l=void 0,g&&n?C(W):(n=u=void 0,i)}function S(){l!==void 0&&clearTimeout(l),c=0,n=f=u=l=void 0}function N(){return l===void 0?i:A(Vt())}function $(){var W=Vt(),z=B(W);if(n=arguments,u=this,f=W,z){if(l===void 0)return m(f);if(D)return clearTimeout(l),l=setTimeout(b,e),C(f)}return l===void 0&&(l=setTimeout(b,e)),i}return $.cancel=S,$.flush=N,$}var Qn=fs;const cs=vt(Qn);var vs=Qn,ds=zt,hs="Expected a function";function Ds(r,e,t){var n=!0,u=!0;if(typeof r!="function")throw new TypeError(hs);return ds(t)&&(n="leading"in t?!!t.leading:n,u="trailing"in t?!!t.trailing:u),vs(r,e,{leading:n,maxWait:e,trailing:u})}var gs=Ds;const ms=vt(gs),eu=r=>typeof r=="object"&&r!=null&&r.nodeType===1,ru=(r,e)=>(!e||r!=="hidden")&&r!=="visible"&&r!=="clip",qt=(r,e)=>{if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){const t=getComputedStyle(r,null);return ru(t.overflowY,e)||ru(t.overflowX,e)||(n=>{const u=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!u&&(u.clientHeight<n.scrollHeight||u.clientWidth<n.scrollWidth)})(r)}return!1},dt=(r,e,t,n,u,a,i,l)=>a<r&&i>e||a>r&&i<e?0:a<=r&&l<=t||i>=e&&l>=t?a-r-n:i>e&&l<t||a<r&&l>t?i-e+u:0,ps=r=>{const e=r.parentElement;return e??(r.getRootNode().host||null)},tu=(r,e)=>{var t,n,u,a;if(typeof document>"u")return[];const{scrollMode:i,block:l,inline:f,boundary:c,skipOverflowHiddenElements:v}=e,D=typeof c=="function"?c:re=>re!==c;if(!eu(r))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,C=[];let m=r;for(;eu(m)&&D(m);){if(m=ps(m),m===g){C.push(m);break}m!=null&&m===document.body&&qt(m)&&!qt(document.documentElement)||m!=null&&qt(m,v)&&C.push(m)}const o=(n=(t=window.visualViewport)==null?void 0:t.width)!=null?n:innerWidth,B=(a=(u=window.visualViewport)==null?void 0:u.height)!=null?a:innerHeight,{scrollX:b,scrollY:A}=window,{height:S,width:N,top:$,right:W,bottom:z,left:U}=r.getBoundingClientRect(),{top:I,right:V,bottom:_,left:T}=(re=>{const Y=window.getComputedStyle(re);return{top:parseFloat(Y.scrollMarginTop)||0,right:parseFloat(Y.scrollMarginRight)||0,bottom:parseFloat(Y.scrollMarginBottom)||0,left:parseFloat(Y.scrollMarginLeft)||0}})(r);let L=l==="start"||l==="nearest"?$-I:l==="end"?z+_:$+S/2-I+_,j=f==="center"?U+N/2-T+V:f==="end"?W+V:U-T;const M=[];for(let re=0;re<C.length;re++){const Y=C[re],{height:ce,width:X,top:ne,right:ge,bottom:ve,left:Fe}=Y.getBoundingClientRect();if(i==="if-needed"&&$>=0&&U>=0&&z<=B&&W<=o&&$>=ne&&z<=ve&&U>=Fe&&W<=ge)return M;const p=getComputedStyle(Y),O=parseInt(p.borderLeftWidth,10),y=parseInt(p.borderTopWidth,10),k=parseInt(p.borderRightWidth,10),Q=parseInt(p.borderBottomWidth,10);let G=0,ee=0;const oe="offsetWidth"in Y?Y.offsetWidth-Y.clientWidth-O-k:0,ie="offsetHeight"in Y?Y.offsetHeight-Y.clientHeight-y-Q:0,De="offsetWidth"in Y?Y.offsetWidth===0?0:X/Y.offsetWidth:0,ue="offsetHeight"in Y?Y.offsetHeight===0?0:ce/Y.offsetHeight:0;if(g===Y)G=l==="start"?L:l==="end"?L-B:l==="nearest"?dt(A,A+B,B,y,Q,A+L,A+L+S,S):L-B/2,ee=f==="start"?j:f==="center"?j-o/2:f==="end"?j-o:dt(b,b+o,o,O,k,b+j,b+j+N,N),G=Math.max(0,G+A),ee=Math.max(0,ee+b);else{G=l==="start"?L-ne-y:l==="end"?L-ve+Q+ie:l==="nearest"?dt(ne,ve,ce,y,Q+ie,L,L+S,S):L-(ne+ce/2)+ie/2,ee=f==="start"?j-Fe-O:f==="center"?j-(Fe+X/2)+oe/2:f==="end"?j-ge+k+oe:dt(Fe,ge,X,O,k+oe,j,j+N,N);const{scrollLeft:be,scrollTop:Ae}=Y;G=ue===0?0:Math.max(0,Math.min(Ae+G/ue,Y.scrollHeight-ce/ue+ie)),ee=De===0?0:Math.max(0,Math.min(be+ee/De,Y.scrollWidth-X/De+oe)),L+=Ae-G,j+=be-ee}M.push({el:Y,top:G,left:ee})}return M},Cs=r=>r===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(r)?r:{block:"start",inline:"nearest"};function Bs(r,e){if(!r.isConnected||!(u=>{let a=u;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(r))return;const t=(u=>{const a=window.getComputedStyle(u);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(r);if((u=>typeof u=="object"&&typeof u.behavior=="function")(e))return e.behavior(tu(r,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:u,top:a,left:i}of tu(r,Cs(e))){const l=a-t.top+t.bottom,f=i-t.left+t.right;u.scroll({top:l,left:f,behavior:n})}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function nu(r){return Object.prototype.toString.call(r)==="[object Object]"}function Te(r){var e,t;return nu(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(nu(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}var uu=Symbol.for("immer-nothing"),au=Symbol.for("immer-draftable"),Ve=Symbol.for("immer-state"),Es=process.env.NODE_ENV!=="production"?[function(r){return`The plugin for '${r}' has not been loaded into Immer. To enable the plugin, import and call \`enable${r}()\` when initializing your application.`},function(r){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${r}'`},"This object has been frozen and should not be mutated",function(r){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+r},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(r){return`'current' expects a draft, got: ${r}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(r){return`'original' expects a draft, got: ${r}`}]:[];function $e(r,...e){if(process.env.NODE_ENV!=="production"){const t=Es[r],n=typeof t=="function"?t.apply(null,e):t;throw new Error(`[Immer] ${n}`)}throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Rr=Object.getPrototypeOf;function Ar(r){return!!r&&!!r[Ve]}function Fr(r){var e;return r?iu(r)||Array.isArray(r)||!!r[au]||!!((e=r.constructor)!=null&&e[au])||Dt(r)||gt(r):!1}var bs=Object.prototype.constructor.toString();function iu(r){if(!r||typeof r!="object")return!1;const e=Rr(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===bs}function Gr(r,e){ht(r)===0?Object.entries(r).forEach(([t,n])=>{e(t,n,r)}):r.forEach((t,n)=>e(n,t,r))}function ht(r){const e=r[Ve];return e?e.type_:Array.isArray(r)?1:Dt(r)?2:gt(r)?3:0}function Ht(r,e){return ht(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function su(r,e,t){const n=ht(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function As(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Dt(r){return r instanceof Map}function gt(r){return r instanceof Set}function wr(r){return r.copy_||r.base_}function Kt(r,e){if(Dt(r))return new Map(r);if(gt(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);if(!e&&iu(r))return Rr(r)?{...r}:Object.assign(Object.create(null),r);const t=Object.getOwnPropertyDescriptors(r);delete t[Ve];let n=Reflect.ownKeys(t);for(let u=0;u<n.length;u++){const a=n[u],i=t[a];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[a]})}return Object.create(Rr(r),t)}function Ut(r,e=!1){return mt(r)||Ar(r)||!Fr(r)||(ht(r)>1&&(r.set=r.add=r.clear=r.delete=Fs),Object.freeze(r),e&&Gr(r,(t,n)=>Ut(n,!0))),r}function Fs(){$e(2)}function mt(r){return Object.isFrozen(r)}var ws={};function yr(r){const e=ws[r];return e||$e(0,r),e}var _r;function ou(){return _r}function ys(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lu(r,e){e&&(yr("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function Yt(r){Gt(r),r.drafts_.forEach(Os),r.drafts_=null}function Gt(r){r===_r&&(_r=r.parent_)}function fu(r){return _r=ys(_r,r)}function Os(r){const e=r[Ve];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cu(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Ve].modified_&&(Yt(e),$e(4)),Fr(r)&&(r=pt(e,r),e.parent_||Ct(e,r)),e.patches_&&yr("Patches").generateReplacementPatches_(t[Ve].base_,r,e.patches_,e.inversePatches_)):r=pt(e,t,[]),Yt(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==uu?r:void 0}function pt(r,e,t){if(mt(e))return e;const n=e[Ve];if(!n)return Gr(e,(u,a)=>vu(r,n,e,u,a,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return Ct(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const u=n.copy_;let a=u,i=!1;n.type_===3&&(a=new Set(u),u.clear(),i=!0),Gr(a,(l,f)=>vu(r,n,u,l,f,t,i)),Ct(r,u,!1),t&&r.patches_&&yr("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function vu(r,e,t,n,u,a,i){if(process.env.NODE_ENV!=="production"&&u===t&&$e(5),Ar(u)){const l=a&&e&&e.type_!==3&&!Ht(e.assigned_,n)?a.concat(n):void 0,f=pt(r,u,l);if(su(t,n,f),Ar(f))r.canAutoFreeze_=!1;else return}else i&&t.add(u);if(Fr(u)&&!mt(u)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;pt(r,u),(!e||!e.scope_.parent_)&&Ct(r,u)}}function Ct(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Ut(e,t)}function xs(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:ou(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=n,a=_t;t&&(u=[n],a=Xr);const{revoke:i,proxy:l}=Proxy.revocable(u,a);return n.draft_=l,n.revoke_=i,l}var _t={get(r,e){if(e===Ve)return r;const t=wr(r);if(!Ht(t,e))return Ps(r,t,e);const n=t[e];return r.finalized_||!Fr(n)?n:n===Xt(r.base_,e)?(Zt(r),r.copy_[e]=Qt(n,r)):n},has(r,e){return e in wr(r)},ownKeys(r){return Reflect.ownKeys(wr(r))},set(r,e,t){const n=du(wr(r),e);if(n!=null&&n.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const u=Xt(wr(r),e),a=u==null?void 0:u[Ve];if(a&&a.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(As(t,u)&&(t!==void 0||Ht(r.base_,e)))return!0;Zt(r),Jt(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Xt(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Zt(r),Jt(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=wr(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){$e(11)},getPrototypeOf(r){return Rr(r.base_)},setPrototypeOf(){$e(12)}},Xr={};Gr(_t,(r,e)=>{Xr[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Xr.deleteProperty=function(r,e){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(e))&&$e(13),Xr.set.call(this,r,e,void 0)},Xr.set=function(r,e,t){return process.env.NODE_ENV!=="production"&&e!=="length"&&isNaN(parseInt(e))&&$e(14),_t.set.call(this,r[0],e,t,r[0])};function Xt(r,e){const t=r[Ve];return(t?wr(t):r)[e]}function Ps(r,e,t){var u;const n=du(e,t);return n?"value"in n?n.value:(u=n.get)==null?void 0:u.call(r.draft_):void 0}function du(r,e){if(!(e in r))return;let t=Rr(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Rr(t)}}function Jt(r){r.modified_||(r.modified_=!0,r.parent_&&Jt(r.parent_))}function Zt(r){r.copy_||(r.copy_=Kt(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var Ss=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const i=this;return function(f=a,...c){return i.produce(f,v=>t.call(this,v,...c))}}typeof t!="function"&&$e(6),n!==void 0&&typeof n!="function"&&$e(7);let u;if(Fr(e)){const a=fu(this),i=Qt(e,void 0);let l=!0;try{u=t(i),l=!1}finally{l?Yt(a):Gt(a)}return lu(a,n),cu(u,a)}else if(!e||typeof e!="object"){if(u=t(e),u===void 0&&(u=e),u===uu&&(u=void 0),this.autoFreeze_&&Ut(u,!0),n){const a=[],i=[];yr("Patches").generateReplacementPatches_(e,u,a,i),n(a,i)}return u}else $e(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,f=>e(f,...l));let n,u;return[this.produce(e,t,(i,l)=>{n=i,u=l}),n,u]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Fr(r)||$e(8),Ar(r)&&(r=Ts(r));const e=fu(this),t=Qt(r,void 0);return t[Ve].isManual_=!0,Gt(e),t}finishDraft(r,e){const t=r&&r[Ve];(!t||!t.isManual_)&&$e(9);const{scope_:n}=t;return lu(n,e),cu(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const u=e[t];if(u.path.length===0&&u.op==="replace"){r=u.value;break}}t>-1&&(e=e.slice(t+1));const n=yr("Patches").applyPatches_;return Ar(r)?n(r,e):this.produce(r,u=>n(u,e))}};function Qt(r,e){const t=Dt(r)?yr("MapSet").proxyMap_(r,e):gt(r)?yr("MapSet").proxySet_(r,e):xs(r,e);return(e?e.scope_:ou()).drafts_.push(t),t}function Ts(r){return Ar(r)||$e(10,r),hu(r)}function hu(r){if(!Fr(r)||mt(r))return r;const e=r[Ve];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Kt(r,e.scope_.immer_.useStrictShallowCopy_)}else t=Kt(r,!0);return Gr(t,(n,u)=>{su(t,n,hu(u))}),e&&(e.finalized_=!1),t}var qe=new Ss,en=qe.produce;qe.produceWithPatches.bind(qe),qe.setAutoFreeze.bind(qe),qe.setUseStrictShallowCopy.bind(qe),qe.applyPatches.bind(qe);var Du=qe.createDraft.bind(qe),gu=qe.finishDraft.bind(qe),js={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=h.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},Ns={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=te.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},Rs={transform(r,e){var{current:t,affinity:n}=r;if(t!=null){var u=E.transform(t,e,{affinity:n});r.current=u,u==null&&r.unref()}}},Bt=new WeakMap,Et=new WeakMap,Jr=new WeakMap,mu=new WeakMap,pu=new WeakMap,Cu=new WeakMap,Bu=new WeakMap,h={ancestors(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=h.levels(r,e);return t?n=n.slice(1):n=n.slice(0,-1),n},common(r,e){for(var t=[],n=0;n<r.length&&n<e.length;n++){var u=r[n],a=e[n];if(u!==a)break;t.push(u)}return t},compare(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++){if(r[n]<e[n])return-1;if(r[n]>e[n])return 1}return 0},endsAfter(r,e){var t=r.length-1,n=r.slice(0,t),u=e.slice(0,t),a=r[t],i=e[t];return h.equals(n,u)&&a>i},endsAt(r,e){var t=r.length,n=r.slice(0,t),u=e.slice(0,t);return h.equals(n,u)},endsBefore(r,e){var t=r.length-1,n=r.slice(0,t),u=e.slice(0,t),a=r[t],i=e[t];return h.equals(n,u)&&a<i},equals(r,e){return r.length===e.length&&r.every((t,n)=>t===e[n])},hasPrevious(r){return r[r.length-1]>0},isAfter(r,e){return h.compare(r,e)===1},isAncestor(r,e){return r.length<e.length&&h.compare(r,e)===0},isBefore(r,e){return h.compare(r,e)===-1},isChild(r,e){return r.length===e.length+1&&h.compare(r,e)===0},isCommon(r,e){return r.length<=e.length&&h.compare(r,e)===0},isDescendant(r,e){return r.length>e.length&&h.compare(r,e)===0},isParent(r,e){return r.length+1===e.length&&h.compare(r,e)===0},isPath(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="number")},isSibling(r,e){if(r.length!==e.length)return!1;var t=r.slice(0,-1),n=e.slice(0,-1),u=r[r.length-1],a=e[e.length-1];return u!==a&&h.equals(t,n)},levels(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,n=[],u=0;u<=r.length;u++)n.push(r.slice(0,u));return t&&n.reverse(),n},next(r){if(r.length===0)throw new Error("Cannot get the next path of a root path [".concat(r,"], because it has no next index."));var e=r[r.length-1];return r.slice(0,-1).concat(e+1)},operationCanTransformPath(r){switch(r.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(r){if(r.length===0)throw new Error("Cannot get the parent path of the root path [".concat(r,"]."));return r.slice(0,-1)},previous(r){if(r.length===0)throw new Error("Cannot get the previous path of a root path [".concat(r,"], because it has no previous index."));var e=r[r.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(r,"] because it would result in a negative index."));return r.slice(0,-1).concat(e-1)},relative(r,e){if(!h.isAncestor(e,r)&&!h.equals(r,e))throw new Error("Cannot get the relative path of [".concat(r,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return r.slice(e.length)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!r)return null;var n=[...r],{affinity:u="forward"}=t;if(r.length===0)return n;switch(e.type){case"insert_node":{var{path:a}=e;(h.equals(a,n)||h.endsBefore(a,n)||h.isAncestor(a,n))&&(n[a.length-1]+=1);break}case"remove_node":{var{path:i}=e;if(h.equals(i,n)||h.isAncestor(i,n))return null;h.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{var{path:l,position:f}=e;h.equals(l,n)||h.endsBefore(l,n)?n[l.length-1]-=1:h.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=f);break}case"split_node":{var{path:c,position:v}=e;if(h.equals(c,n)){if(u==="forward")n[n.length-1]+=1;else if(u!=="backward")return null}else h.endsBefore(c,n)?n[c.length-1]+=1:h.isAncestor(c,n)&&r[c.length]>=v&&(n[c.length-1]+=1,n[c.length]-=v);break}case"move_node":{var{path:D,newPath:g}=e;if(h.equals(D,g))return n;if(h.isAncestor(D,n)||h.equals(D,n)){var C=g.slice();return h.endsBefore(D,g)&&D.length<g.length&&(C[D.length-1]-=1),C.concat(n.slice(D.length))}else h.isSibling(D,g)&&(h.isAncestor(g,n)||h.equals(g,n))?h.endsBefore(D,n)?n[D.length-1]-=1:n[D.length-1]+=1:h.endsBefore(g,n)||h.equals(g,n)||h.isAncestor(g,n)?(h.endsBefore(D,n)&&(n[D.length-1]-=1),n[g.length-1]+=1):h.endsBefore(D,n)&&(h.equals(g,n)&&(n[g.length-1]+=1),n[D.length-1]-=1);break}}return n}};function Zr(r){"@babel/helpers - typeof";return Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(r)}function Ms(r,e){if(Zr(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Zr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Is(r){var e=Ms(r,"string");return Zr(e)==="symbol"?e:String(e)}function Ne(r,e,t){return e=Is(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Eu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Qr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Eu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ks=(r,e,t)=>{switch(t.type){case"insert_node":{var{path:n,node:u}=t,a=R.parent(r,n),i=n[n.length-1];if(i>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(i,0,u),e)for(var[l,f]of E.points(e))e[f]=te.transform(l,t);break}case"insert_text":{var{path:c,offset:v,text:D}=t;if(D.length===0)break;var g=R.leaf(r,c),C=g.text.slice(0,v),m=g.text.slice(v);if(g.text=C+D+m,e)for(var[o,B]of E.points(e))e[B]=te.transform(o,t);break}case"merge_node":{var{path:b}=t,A=R.get(r,b),S=h.previous(b),N=R.get(r,S),$=R.parent(r,b),W=b[b.length-1];if(K.isText(A)&&K.isText(N))N.text+=A.text;else if(!K.isText(A)&&!K.isText(N))N.children.push(...A.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(b,"] to nodes of different interfaces: ").concat(Pe.stringify(A)," ").concat(Pe.stringify(N)));if($.children.splice(W,1),e)for(var[z,U]of E.points(e))e[U]=te.transform(z,t);break}case"move_node":{var{path:I,newPath:V}=t;if(h.isAncestor(I,V))throw new Error("Cannot move a path [".concat(I,"] to new path [").concat(V,"] because the destination is inside itself."));var _=R.get(r,I),T=R.parent(r,I),L=I[I.length-1];T.children.splice(L,1);var j=h.transform(I,t),M=R.get(r,h.parent(j)),re=j[j.length-1];if(M.children.splice(re,0,_),e)for(var[Y,ce]of E.points(e))e[ce]=te.transform(Y,t);break}case"remove_node":{var{path:X}=t,ne=X[X.length-1],ge=R.parent(r,X);if(ge.children.splice(ne,1),e)for(var[ve,Fe]of E.points(e)){var p=te.transform(ve,t);if(e!=null&&p!=null)e[Fe]=p;else{var O=void 0,y=void 0;for(var[k,Q]of R.texts(r))if(h.compare(Q,X)===-1)O=[k,Q];else{y=[k,Q];break}var G=!1;O&&y&&(h.equals(y[1],X)?G=!h.hasPrevious(y[1]):G=h.common(O[1],X).length<h.common(y[1],X).length),O&&!G?(ve.path=O[1],ve.offset=O[0].text.length):y?(ve.path=y[1],ve.offset=0):e=null}}break}case"remove_text":{var{path:ee,offset:oe,text:ie}=t;if(ie.length===0)break;var De=R.leaf(r,ee),ue=De.text.slice(0,oe),be=De.text.slice(oe+ie.length);if(De.text=ue+be,e)for(var[Ae,Ce]of E.points(e))e[Ce]=te.transform(Ae,t);break}case"set_node":{var{path:We,properties:Ie,newProperties:je}=t;if(We.length===0)throw new Error("Cannot set properties on the root node!");var He=R.get(r,We);for(var de in je){if(de==="children"||de==="text")throw new Error('Cannot set the "'.concat(de,'" property of nodes!'));var Se=je[de];Se==null?delete He[de]:He[de]=Se}for(var Oe in Ie)je.hasOwnProperty(Oe)||delete He[Oe];break}case"set_selection":{var{newProperties:we}=t;if(we==null)e=we;else{if(e==null){if(!E.isRange(we))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Pe.stringify(we)," when there is no current selection."));e=Qr({},we)}for(var ze in we){var ur=we[ze];if(ur==null){if(ze==="anchor"||ze==="focus")throw new Error('Cannot remove the "'.concat(ze,'" selection property'));delete e[ze]}else e[ze]=ur}}break}case"split_node":{var{path:Ke,position:ar,properties:Nr}=t;if(Ke.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ke,"] because the root node cannot be split."));var Ze=R.get(r,Ke),Tn=R.parent(r,Ke),jn=Ke[Ke.length-1],lt;if(K.isText(Ze)){var Nn=Ze.text.slice(0,ar),Rn=Ze.text.slice(ar);Ze.text=Nn,lt=Qr(Qr({},Nr),{},{text:Rn})}else{var Mn=Ze.children.slice(0,ar),In=Ze.children.slice(ar);Ze.children=Mn,lt=Qr(Qr({},Nr),{},{children:In})}if(Tn.children.splice(jn+1,0,lt),e)for(var[ft,Lt]of E.points(e))e[Lt]=te.transform(ft,t);break}}return e},$s={transform(r,e){r.children=Du(r.children);var t=r.selection&&Du(r.selection);try{t=ks(r,t,e)}finally{r.children=gu(r.children),t?r.selection=Ar(t)?gu(t):t:r.selection=null}}},Ls={insertNodes(r,e,t){r.insertNodes(e,t)},liftNodes(r,e){r.liftNodes(e)},mergeNodes(r,e){r.mergeNodes(e)},moveNodes(r,e){r.moveNodes(e)},removeNodes(r,e){r.removeNodes(e)},setNodes(r,e,t){r.setNodes(e,t)},splitNodes(r,e){r.splitNodes(e)},unsetNodes(r,e,t){r.unsetNodes(e,t)},unwrapNodes(r,e){r.unwrapNodes(e)},wrapNodes(r,e,t){r.wrapNodes(e,t)}},Ws={collapse(r,e){r.collapse(e)},deselect(r){r.deselect()},move(r,e){r.move(e)},select(r,e){r.select(e)},setPoint(r,e,t){r.setPoint(e,t)},setSelection(r,e){r.setSelection(e)}},bu=(r,e)=>{for(var t in r){var n=r[t],u=e[t];if(Te(n)&&Te(u)){if(!bu(n,u))return!1}else if(Array.isArray(n)&&Array.isArray(u)){if(n.length!==u.length)return!1;for(var a=0;a<n.length;a++)if(n[a]!==u[a])return!1}else if(n!==u)return!1}for(var i in e)if(r[i]===void 0&&e[i]!==void 0)return!1;return!0};function zs(r,e){if(r==null)return{};var t={},n=Object.keys(r),u,a;for(a=0;a<n.length;a++)u=n[a],!(e.indexOf(u)>=0)&&(t[u]=r[u]);return t}function ir(r,e){if(r==null)return{};var t=zs(r,e),n,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(u=0;u<a.length;u++)n=a[u],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var Vs=["anchor","focus"];function Au(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function qs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Au(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Au(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var E={edges(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=e,{anchor:n,focus:u}=r;return E.isBackward(r)===t?[n,u]:[u,n]},end(r){var[,e]=E.edges(r);return e},equals(r,e){return te.equals(r.anchor,e.anchor)&&te.equals(r.focus,e.focus)},includes(r,e){if(E.isRange(e)){if(E.includes(r,e.anchor)||E.includes(r,e.focus))return!0;var[t,n]=E.edges(r),[u,a]=E.edges(e);return te.isBefore(t,u)&&te.isAfter(n,a)}var[i,l]=E.edges(r),f=!1,c=!1;return te.isPoint(e)?(f=te.compare(e,i)>=0,c=te.compare(e,l)<=0):(f=h.compare(e,i.path)>=0,c=h.compare(e,l.path)<=0),f&&c},intersection(r,e){var t=ir(r,Vs),[n,u]=E.edges(r),[a,i]=E.edges(e),l=te.isBefore(n,a)?a:n,f=te.isBefore(u,i)?u:i;return te.isBefore(f,l)?null:qs({anchor:l,focus:f},t)},isBackward(r){var{anchor:e,focus:t}=r;return te.isAfter(e,t)},isCollapsed(r){var{anchor:e,focus:t}=r;return te.equals(e,t)},isExpanded(r){return!E.isCollapsed(r)},isForward(r){return!E.isBackward(r)},isRange(r){return Te(r)&&te.isPoint(r.anchor)&&te.isPoint(r.focus)},*points(r){yield[r.anchor,"anchor"],yield[r.focus,"focus"]},start(r){var[e]=E.edges(r);return e},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return en(r,n=>{if(n===null)return null;var{affinity:u="inward"}=t,a,i;if(u==="inward"){var l=E.isCollapsed(n);E.isForward(n)?(a="forward",i=l?a:"backward"):(a="backward",i=l?a:"forward")}else u==="outward"?E.isForward(n)?(a="backward",i="forward"):(a="forward",i="backward"):(a=u,i=u);var f=te.transform(n.anchor,e,{affinity:a}),c=te.transform(n.focus,e,{affinity:i});if(!f||!c)return null;n.anchor=f,n.focus=c})}},Fu=r=>Te(r)&&R.isNodeList(r.children)&&!s.isEditor(r),H={isAncestor(r){return Te(r)&&R.isNodeList(r.children)},isElement:Fu,isElementList(r){return Array.isArray(r)&&r.every(e=>H.isElement(e))},isElementProps(r){return r.children!==void 0},isElementType:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Fu(e)&&e[n]===t},matches(r,e){for(var t in e)if(t!=="children"&&r[t]!==e[t])return!1;return!0}},Hs=["children"],Ks=["text"],wu=new WeakMap,R={ancestor(r,e){var t=R.get(r,e);if(K.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Pe.stringify(t)));return t},ancestors(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of h.ancestors(e,t)){var u=R.ancestor(r,n),a=[u,n];yield a}}()},child(r,e){if(K.isText(r))throw new Error("Cannot get the child of a text node: ".concat(Pe.stringify(r)));var t=r.children[e];if(t==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Pe.stringify(r)));return t},children(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=t,u=R.ancestor(r,e),{children:a}=u,i=n?a.length-1:0;n?i>=0:i<a.length;){var l=R.child(u,i),f=e.concat(i);yield[l,f],i=n?i-1:i+1}}()},common(r,e,t){var n=h.common(e,t),u=R.get(r,n);return[u,n]},descendant(r,e){var t=R.get(r,e);if(s.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Pe.stringify(t)));return t},descendants(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of R.nodes(r,e))n.length!==0&&(yield[t,n])}()},elements(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of R.nodes(r,e))H.isElement(t)&&(yield[t,n])}()},extractProps(r){if(H.isAncestor(r)){var e=ir(r,Hs);return e}else{var e=ir(r,Ks);return e}},first(r,e){for(var t=e.slice(),n=R.get(r,t);n&&!(K.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(r,e){if(K.isText(r))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Pe.stringify(r)));var t=en({children:r.children},n=>{var[u,a]=E.edges(e),i=R.nodes(n,{reverse:!0,pass:g=>{var[,C]=g;return!E.includes(e,C)}});for(var[,l]of i){if(!E.includes(e,l)){var f=R.parent(n,l),c=l[l.length-1];f.children.splice(c,1)}if(h.equals(l,a.path)){var v=R.leaf(n,l);v.text=v.text.slice(0,a.offset)}if(h.equals(l,u.path)){var D=R.leaf(n,l);D.text=D.text.slice(u.offset)}}s.isEditor(n)&&(n.selection=null)});return t.children},get(r,e){for(var t=r,n=0;n<e.length;n++){var u=e[n];if(K.isText(t)||!t.children[u])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Pe.stringify(r)));t=t.children[u]}return t},has(r,e){for(var t=r,n=0;n<e.length;n++){var u=e[n];if(K.isText(t)||!t.children[u])return!1;t=t.children[u]}return!0},isNode(r){return K.isText(r)||H.isElement(r)||s.isEditor(r)},isNodeList(r){if(!Array.isArray(r))return!1;var e=wu.get(r);if(e!==void 0)return e;var t=r.every(n=>R.isNode(n));return wu.set(r,t),t},last(r,e){for(var t=e.slice(),n=R.get(r,t);n&&!(K.isText(n)||n.children.length===0);){var u=n.children.length-1;n=n.children[u],t.push(u)}return[n,t]},leaf(r,e){var t=R.get(r,e);if(!K.isText(t))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Pe.stringify(t)));return t},levels(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of h.levels(e,t)){var u=R.get(r,n);yield[u,n]}}()},matches(r,e){return H.isElement(r)&&H.isElementProps(e)&&H.matches(r,e)||K.isText(r)&&K.isTextProps(e)&&K.matches(r,e)},nodes(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:t,reverse:n=!1}=e,{from:u=[],to:a}=e,i=new Set,l=[],f=r;!(a&&(n?h.isBefore(l,a):h.isAfter(l,a)));){if(i.has(f)||(yield[f,l]),!i.has(f)&&!K.isText(f)&&f.children.length!==0&&(t==null||t([f,l])===!1)){i.add(f);var c=n?f.children.length-1:0;h.isAncestor(l,u)&&(c=u[l.length]),l=l.concat(c),f=R.get(r,l);continue}if(l.length===0)break;if(!n){var v=h.next(l);if(R.has(r,v)){l=v,f=R.get(r,l);continue}}if(n&&l[l.length-1]!==0){var D=h.previous(l);l=D,f=R.get(r,l);continue}l=h.parent(l),f=R.get(r,l),i.add(f)}}()},parent(r,e){var t=h.parent(e),n=R.get(r,t);if(K.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(r){return K.isText(r)?r.text:r.children.map(R.string).join("")},texts(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of R.nodes(r,e))K.isText(t)&&(yield[t,n])}()}};function yu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function me(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var dr={isNodeOperation(r){return dr.isOperation(r)&&r.type.endsWith("_node")},isOperation(r){if(!Te(r))return!1;switch(r.type){case"insert_node":return h.isPath(r.path)&&R.isNode(r.node);case"insert_text":return typeof r.offset=="number"&&typeof r.text=="string"&&h.isPath(r.path);case"merge_node":return typeof r.position=="number"&&h.isPath(r.path)&&Te(r.properties);case"move_node":return h.isPath(r.path)&&h.isPath(r.newPath);case"remove_node":return h.isPath(r.path)&&R.isNode(r.node);case"remove_text":return typeof r.offset=="number"&&typeof r.text=="string"&&h.isPath(r.path);case"set_node":return h.isPath(r.path)&&Te(r.properties)&&Te(r.newProperties);case"set_selection":return r.properties===null&&E.isRange(r.newProperties)||r.newProperties===null&&E.isRange(r.properties)||Te(r.properties)&&Te(r.newProperties);case"split_node":return h.isPath(r.path)&&typeof r.position=="number"&&Te(r.properties);default:return!1}},isOperationList(r){return Array.isArray(r)&&r.every(e=>dr.isOperation(e))},isSelectionOperation(r){return dr.isOperation(r)&&r.type.endsWith("_selection")},isTextOperation(r){return dr.isOperation(r)&&r.type.endsWith("_text")},inverse(r){switch(r.type){case"insert_node":return me(me({},r),{},{type:"remove_node"});case"insert_text":return me(me({},r),{},{type:"remove_text"});case"merge_node":return me(me({},r),{},{type:"split_node",path:h.previous(r.path)});case"move_node":{var{newPath:e,path:t}=r;if(h.equals(e,t))return r;if(h.isSibling(t,e))return me(me({},r),{},{path:e,newPath:t});var n=h.transform(t,r),u=h.transform(h.next(t),r);return me(me({},r),{},{path:n,newPath:u})}case"remove_node":return me(me({},r),{},{type:"insert_node"});case"remove_text":return me(me({},r),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:i}=r;return me(me({},r),{},{properties:i,newProperties:a})}case"set_selection":{var{properties:l,newProperties:f}=r;return l==null?me(me({},r),{},{properties:f,newProperties:null}):f==null?me(me({},r),{},{properties:null,newProperties:l}):me(me({},r),{},{properties:f,newProperties:l})}case"split_node":return me(me({},r),{},{type:"merge_node",path:h.next(r.path)})}}},Ou=new WeakMap,Us=r=>{var e=Ou.get(r);if(e!==void 0)return e;if(!Te(r))return!1;var t=typeof r.addMark=="function"&&typeof r.apply=="function"&&typeof r.deleteFragment=="function"&&typeof r.insertBreak=="function"&&typeof r.insertSoftBreak=="function"&&typeof r.insertFragment=="function"&&typeof r.insertNode=="function"&&typeof r.insertText=="function"&&typeof r.isElementReadOnly=="function"&&typeof r.isInline=="function"&&typeof r.isSelectable=="function"&&typeof r.isVoid=="function"&&typeof r.normalizeNode=="function"&&typeof r.onChange=="function"&&typeof r.removeMark=="function"&&typeof r.getDirtyPaths=="function"&&(r.marks===null||Te(r.marks))&&(r.selection===null||E.isRange(r.selection))&&R.isNodeList(r.children)&&dr.isOperationList(r.operations);return Ou.set(r,t),t},s={above(r,e){return r.above(e)},addMark(r,e,t){r.addMark(e,t)},after(r,e,t){return r.after(e,t)},before(r,e,t){return r.before(e,t)},deleteBackward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteBackward(t)},deleteForward(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=e;r.deleteForward(t)},deleteFragment(r,e){r.deleteFragment(e)},edges(r,e){return r.edges(e)},elementReadOnly(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.elementReadOnly(e)},end(r,e){return r.end(e)},first(r,e){return r.first(e)},fragment(r,e){return r.fragment(e)},hasBlocks(r,e){return r.hasBlocks(e)},hasInlines(r,e){return r.hasInlines(e)},hasPath(r,e){return r.hasPath(e)},hasTexts(r,e){return r.hasTexts(e)},insertBreak(r){r.insertBreak()},insertFragment(r,e,t){r.insertFragment(e,t)},insertNode(r,e){r.insertNode(e)},insertSoftBreak(r){r.insertSoftBreak()},insertText(r,e){r.insertText(e)},isBlock(r,e){return r.isBlock(e)},isEdge(r,e,t){return r.isEdge(e,t)},isEditor(r){return Us(r)},isElementReadOnly(r,e){return r.isElementReadOnly(e)},isEmpty(r,e){return r.isEmpty(e)},isEnd(r,e,t){return r.isEnd(e,t)},isInline(r,e){return r.isInline(e)},isNormalizing(r){return r.isNormalizing()},isSelectable(r,e){return r.isSelectable(e)},isStart(r,e,t){return r.isStart(e,t)},isVoid(r,e){return r.isVoid(e)},last(r,e){return r.last(e)},leaf(r,e,t){return r.leaf(e,t)},levels(r,e){return r.levels(e)},marks(r){return r.getMarks()},next(r,e){return r.next(e)},node(r,e,t){return r.node(e,t)},nodes(r,e){return r.nodes(e)},normalize(r,e){r.normalize(e)},parent(r,e,t){return r.parent(e,t)},path(r,e,t){return r.path(e,t)},pathRef(r,e,t){return r.pathRef(e,t)},pathRefs(r){return r.pathRefs()},point(r,e,t){return r.point(e,t)},pointRef(r,e,t){return r.pointRef(e,t)},pointRefs(r){return r.pointRefs()},positions(r,e){return r.positions(e)},previous(r,e){return r.previous(e)},range(r,e,t){return r.range(e,t)},rangeRef(r,e,t){return r.rangeRef(e,t)},rangeRefs(r){return r.rangeRefs()},removeMark(r,e){r.removeMark(e)},setNormalizing(r,e){r.setNormalizing(e)},start(r,e){return r.start(e)},string(r,e,t){return r.string(e,t)},unhangRange(r,e,t){return r.unhangRange(e,t)},void(r,e){return r.void(e)},withoutNormalizing(r,e){r.withoutNormalizing(e)}},Ys={isSpan(r){return Array.isArray(r)&&r.length===2&&r.every(h.isPath)}};function xu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Pu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var te={compare(r,e){var t=h.compare(r.path,e.path);return t===0?r.offset<e.offset?-1:r.offset>e.offset?1:0:t},isAfter(r,e){return te.compare(r,e)===1},isBefore(r,e){return te.compare(r,e)===-1},equals(r,e){return r.offset===e.offset&&h.equals(r.path,e.path)},isPoint(r){return Te(r)&&typeof r.offset=="number"&&h.isPath(r.path)},transform(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return en(r,n=>{if(n===null)return null;var{affinity:u="forward"}=t,{path:a,offset:i}=n;switch(e.type){case"insert_node":case"move_node":{n.path=h.transform(a,e,t);break}case"insert_text":{h.equals(e.path,a)&&(e.offset<i||e.offset===i&&u==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{h.equals(e.path,a)&&(n.offset+=e.position),n.path=h.transform(a,e,t);break}case"remove_text":{h.equals(e.path,a)&&e.offset<=i&&(n.offset-=Math.min(i-e.offset,e.text.length));break}case"remove_node":{if(h.equals(e.path,a)||h.isAncestor(e.path,a))return null;n.path=h.transform(a,e,t);break}case"split_node":{if(h.equals(e.path,a)){if(e.position===i&&u==null)return null;(e.position<i||e.position===i&&u==="forward")&&(n.offset-=e.position,n.path=h.transform(a,e,Pu(Pu({},t),{},{affinity:"forward"})))}else n.path=h.transform(a,e,t);break}}})}},Su=void 0,Pe={setScrubber(r){Su=r},stringify(r){return JSON.stringify(r,Su)}},Gs=["text"],_s=["anchor","focus"];function Tu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function sr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Tu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var K={equals(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function u(a){var i=ir(a,Gs);return i}return bu(n?u(r):r,n?u(e):e)},isText(r){return Te(r)&&typeof r.text=="string"},isTextList(r){return Array.isArray(r)&&r.every(e=>K.isText(e))},isTextProps(r){return r.text!==void 0},matches(r,e){for(var t in e)if(t!=="text"&&(!r.hasOwnProperty(t)||r[t]!==e[t]))return!1;return!0},decorations(r,e){var t=[sr({},r)];for(var n of e){var u=ir(n,_s),[a,i]=E.edges(n),l=[],f=0,c=a.offset,v=i.offset;for(var D of t){var{length:g}=D.text,C=f;if(f+=g,c<=C&&f<=v){Object.assign(D,u),l.push(D);continue}if(c!==v&&(c===f||v===C)||c>f||v<C||v===C&&C!==0){l.push(D);continue}var m=D,o=void 0,B=void 0;if(v<f){var b=v-C;B=sr(sr({},m),{},{text:m.text.slice(b)}),m=sr(sr({},m),{},{text:m.text.slice(0,b)})}if(c>C){var A=c-C;o=sr(sr({},m),{},{text:m.text.slice(0,A)}),m=sr(sr({},m),{},{text:m.text.slice(A)})}Object.assign(m,u),o&&l.push(o),l.push(m),B&&l.push(B)}t=l}return t}},rn=r=>r.selection?r.selection:r.children.length>0?s.end(r,[]):[0],Mr=(r,e)=>{var[t]=s.node(r,e);return n=>n===t},tn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,u=t?ro(e):e,a=Z.None,i=Z.None,l=0,f=null,c=null;for(var v of u){var D=v.codePointAt(0);if(!D)break;var g=ho(v,D);if([a,i]=n?[i,g]:[g,a],Ir(a,Z.ZWJ)&&Ir(i,Z.ExtPict)&&(n?f=ju(e.substring(0,l)):f=ju(e.substring(0,e.length-l)),!f)||Ir(a,Z.RI)&&Ir(i,Z.RI)&&(c!==null?c=!c:n?c=!0:c=Co(e.substring(0,e.length-l)),!c)||a!==Z.None&&i!==Z.None&&go(a,i))break;l+=v.length}return l||1},Xs=/\s/,Js=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Zs=/['\u2018\u2019]/,Qs=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,u=!1;e.length>0;){var a=tn(e,t),[i,l]=nn(e,a,t);if(eo(i,l,t))u=!0,n+=a;else if(!u)n+=a;else break;e=l}return n},nn=(r,e,t)=>{if(t){var n=r.length-e;return[r.slice(n,r.length),r.slice(0,n)]}return[r.slice(0,e),r.slice(e)]},eo=function r(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Xs.test(e))return!1;if(Zs.test(e)){var u=tn(t,n),[a,i]=nn(t,u,n);if(r(a,i,n))return!0}return!Js.test(e)},ro=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var u=e.charAt(t-n);if(no(u.charCodeAt(0))){var a=e.charAt(t-n-1);if(to(a.charCodeAt(0))){yield a+u,n++;continue}}yield u}},to=r=>r>=55296&&r<=56319,no=r=>r>=56320&&r<=57343,Z;(function(r){r[r.None=0]="None",r[r.Extend=1]="Extend",r[r.ZWJ=2]="ZWJ",r[r.RI=4]="RI",r[r.Prepend=8]="Prepend",r[r.SpacingMark=16]="SpacingMark",r[r.L=32]="L",r[r.V=64]="V",r[r.T=128]="T",r[r.LV=256]="LV",r[r.LVT=512]="LVT",r[r.ExtPict=1024]="ExtPict",r[r.Any=2048]="Any"})(Z||(Z={}));var uo=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,ao=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,io=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,so=/^[\u1100-\u115F\uA960-\uA97C]$/,oo=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,lo=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,fo=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,co=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,vo=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,ho=(r,e)=>{var t=Z.Any;return r.search(uo)!==-1&&(t|=Z.Extend),e===8205&&(t|=Z.ZWJ),e>=127462&&e<=127487&&(t|=Z.RI),r.search(ao)!==-1&&(t|=Z.Prepend),r.search(io)!==-1&&(t|=Z.SpacingMark),r.search(so)!==-1&&(t|=Z.L),r.search(oo)!==-1&&(t|=Z.V),r.search(lo)!==-1&&(t|=Z.T),r.search(fo)!==-1&&(t|=Z.LV),r.search(co)!==-1&&(t|=Z.LVT),r.search(vo)!==-1&&(t|=Z.ExtPict),t};function Ir(r,e){return(r&e)!==0}var Do=[[Z.L,Z.L|Z.V|Z.LV|Z.LVT],[Z.LV|Z.V,Z.V|Z.T],[Z.LVT|Z.T,Z.T],[Z.Any,Z.Extend|Z.ZWJ],[Z.Any,Z.SpacingMark],[Z.Prepend,Z.Any],[Z.ZWJ,Z.ExtPict],[Z.RI,Z.RI]];function go(r,e){return Do.findIndex(t=>Ir(r,t[0])&&Ir(e,t[1]))===-1}var mo=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,ju=r=>r.search(mo)!==-1,po=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Co=r=>{var e=r.match(po);if(e===null)return!1;var t=e[0].length/2;return t%2===1},Bo={delete(r,e){r.delete(e)},insertFragment(r,e,t){r.insertFragment(e,t)},insertText(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(r,()=>{var{voids:n=!1}=t,{at:u=rn(r)}=t;if(h.isPath(u)&&(u=s.range(r,u)),E.isRange(u))if(E.isCollapsed(u))u=u.anchor;else{var a=E.end(u);if(!n&&s.void(r,{at:a}))return;var i=E.start(u),l=s.pointRef(r,i),f=s.pointRef(r,a);x.delete(r,{at:u,voids:n});var c=l.unref(),v=f.unref();u=c||v,x.setSelection(r,{anchor:u,focus:u})}if(!(!n&&s.void(r,{at:u})||s.elementReadOnly(r,{at:u}))){var{path:D,offset:g}=u;e.length>0&&r.apply({type:"insert_text",path:D,offset:g,text:e})}})}};function Nu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function bt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Nu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var x=bt(bt(bt(bt({},$s),Ls),Ws),Bo),At=new WeakMap,Eo=r=>At.get(r)||!1,bo=(r,e,t)=>{var n=At.get(r)||!1;At.set(r,!0);try{e(),t()}finally{At.set(r,n)}};function Ru(r,e,t){var n=Bt.get(r)||[],u=Et.get(r)||new Set,a,i,l=D=>{if(D){var g=D.join(",");i.has(g)||(i.add(g),a.push(D))}};if(t){a=[],i=new Set;for(var f of n){var c=t(f);l(c)}}else a=n,i=u;for(var v of e)l(v);Bt.set(r,a),Et.set(r,i)}var Ao=(r,e)=>{for(var t of s.pathRefs(r))js.transform(t,e);for(var n of s.pointRefs(r))Ns.transform(n,e);for(var u of s.rangeRefs(r))Rs.transform(u,e);if(!Eo(r)){var a=h.operationCanTransformPath(e)?i=>h.transform(i,e):void 0;Ru(r,r.getDirtyPaths(e),a)}x.transform(r,e),r.operations.push(e),s.normalize(r,{operation:e}),e.type==="set_selection"&&(r.marks=null),Jr.get(r)||(Jr.set(r,!0),Promise.resolve().then(()=>{Jr.set(r,!1),r.onChange({operation:e}),r.operations=[]}))},Fo=(r,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=e;return h.levels(t)}case"insert_node":{var{node:n,path:u}=e,a=h.levels(u),i=K.isText(n)?[]:Array.from(R.nodes(n),V=>{var[,_]=V;return u.concat(_)});return[...a,...i]}case"merge_node":{var{path:l}=e,f=h.ancestors(l),c=h.previous(l);return[...f,c]}case"move_node":{var{path:v,newPath:D}=e;if(h.equals(v,D))return[];var g=[],C=[];for(var m of h.ancestors(v)){var o=h.transform(m,e);g.push(o)}for(var B of h.ancestors(D)){var b=h.transform(B,e);C.push(b)}var A=C[C.length-1],S=D[D.length-1],N=A.concat(S);return[...g,...C,N]}case"remove_node":{var{path:$}=e,W=h.ancestors($);return[...W]}case"split_node":{var{path:z}=e,U=h.levels(z),I=h.next(z);return[...U,I]}default:return[]}},wo=r=>{var{selection:e}=r;return e?R.fragment(r,e):[]},yo=(r,e)=>{var[t,n]=e;if(!K.isText(t)){if(H.isElement(t)&&t.children.length===0){var u={text:""};x.insertNodes(r,u,{at:n.concat(0),voids:!0});return}for(var a=s.isEditor(t)?!1:H.isElement(t)&&(r.isInline(t)||t.children.length===0||K.isText(t.children[0])||r.isInline(t.children[0])),i=0,l=0;l<t.children.length;l++,i++){var f=R.get(r,n);if(!K.isText(f)){var c=f.children[i],v=f.children[i-1],D=l===t.children.length-1,g=K.isText(c)||H.isElement(c)&&r.isInline(c);if(g!==a)x.removeNodes(r,{at:n.concat(i),voids:!0}),i--;else if(H.isElement(c)){if(r.isInline(c)){if(v==null||!K.isText(v)){var C={text:""};x.insertNodes(r,C,{at:n.concat(i),voids:!0}),i++}else if(D){var m={text:""};x.insertNodes(r,m,{at:n.concat(i+1),voids:!0}),i++}}}else v!=null&&K.isText(v)&&(K.equals(c,v,{loose:!0})?(x.mergeNodes(r,{at:n.concat(i),voids:!0}),i--):v.text===""?(x.removeNodes(r,{at:n.concat(i-1),voids:!0}),i--):c.text===""&&(x.removeNodes(r,{at:n.concat(i),voids:!0}),i--))}}}},Oo=(r,e)=>{var{iteration:t,initialDirtyPathsLength:n}=e,u=n*42;if(t>u)throw new Error("Could not completely normalize the editor after ".concat(u," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},xo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:u="lowest",at:a=e.selection,match:i}=t;if(a){var l=s.path(e,a),f=u==="lowest";for(var[c,v]of s.levels(e,{at:l,voids:n,match:i,reverse:f}))if(!K.isText(c)){if(E.isRange(a)){if(h.isAncestor(v,a.anchor.path)&&h.isAncestor(v,a.focus.path))return[c,v]}else if(!h.equals(l,v))return[c,v]}}};function Mu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Iu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Mu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Po=(r,e,t)=>{var{selection:n}=r;if(n){var u=(D,g)=>{if(!K.isText(D))return!1;var[C,m]=s.parent(r,g);return!r.isVoid(C)||r.markableVoid(C)},a=E.isExpanded(n),i=!1;if(!a){var[l,f]=s.node(r,n);if(l&&u(l,f)){var[c]=s.parent(r,f);i=c&&r.markableVoid(c)}}if(a||i)x.setNodes(r,{[e]:t},{match:u,split:!0,voids:!0});else{var v=Iu(Iu({},s.marks(r)||{}),{},{[e]:t});r.marks=v,Jr.get(r)||r.onChange()}}};function ku(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function $u(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ku(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ku(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var So=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.point(e,t,{edge:"end"}),a=s.end(e,[]),i={anchor:u,focus:a},{distance:l=1}=n,f=0,c;for(var v of s.positions(e,$u($u({},n),{},{at:i}))){if(f>l)break;f!==0&&(c=v),f++}return c};function Lu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Wu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Lu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var To=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.start(e,[]),a=s.point(e,t,{edge:"start"}),i={anchor:u,focus:a},{distance:l=1}=n,f=0,c;for(var v of s.positions(e,Wu(Wu({},n),{},{at:i,reverse:!0}))){if(f>l)break;f!==0&&(c=v),f++}return c},jo=(r,e)=>{var{selection:t}=r;t&&E.isCollapsed(t)&&x.delete(r,{unit:e,reverse:!0})},No=(r,e)=>{var{selection:t}=r;t&&E.isCollapsed(t)&&x.delete(r,{unit:e})},Ro=function(e){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&E.isExpanded(n)&&x.delete(e,{reverse:t==="backward"})},Mo=(r,e)=>[s.start(r,e),s.end(r,e)];function zu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Vu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Io=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.above(e,Vu(Vu({},t),{},{match:n=>H.isElement(n)&&s.isElementReadOnly(e,n)}))},ko=(r,e)=>s.point(r,e,{edge:"end"}),$o=(r,e)=>{var t=s.path(r,e,{edge:"start"});return s.node(r,t)},Lo=(r,e)=>{var t=s.range(r,e);return R.fragment(r,t)};function qu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Hu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Wo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.above(e,Hu(Hu({},t),{},{match:n=>H.isElement(n)&&s.isVoid(e,n)}))},zo=(r,e)=>e.children.some(t=>H.isElement(t)&&s.isBlock(r,t)),Vo=(r,e)=>e.children.some(t=>K.isText(t)||s.isInline(r,t)),qo=(r,e)=>R.has(r,e),Ho=(r,e)=>e.children.every(t=>K.isText(t)),Ko=r=>{x.splitNodes(r,{always:!0})},Uo=(r,e,t)=>{x.insertNodes(r,e,t)},Yo=r=>{x.splitNodes(r,{always:!0})};function Ku(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Go(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ku(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ku(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var _o=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u,marks:a}=e;if(u){if(a){var i=Go({text:t},a);x.insertNodes(e,i,{at:n.at,voids:n.voids})}else x.insertText(e,t,n);e.marks=null}},Xo=(r,e)=>!r.isInline(e),Jo=(r,e,t)=>s.isStart(r,e,t)||s.isEnd(r,e,t),Zo=(r,e)=>{var{children:t}=e,[n]=t;return t.length===0||t.length===1&&K.isText(n)&&n.text===""&&!r.isVoid(e)},Qo=(r,e,t)=>{var n=s.end(r,t);return te.equals(e,n)},el=r=>{var e=mu.get(r);return e===void 0?!0:e},rl=(r,e,t)=>{if(e.offset!==0)return!1;var n=s.start(r,t);return te.equals(e,n)},tl=(r,e)=>{var t=s.path(r,e,{edge:"end"});return s.node(r,t)},nl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.path(e,t,n),a=R.leaf(e,u);return[a,u]};function ul(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=r.selection,reverse:n=!1,voids:u=!1}=e,{match:a}=e;if(a==null&&(a=()=>!0),!!t){var i=[],l=s.path(r,t);for(var[f,c]of R.levels(r,l))if(a(f,c)&&(i.push([f,c]),!u&&H.isElement(f)&&s.isVoid(r,f)))break;n&&i.reverse(),yield*i}}()}var al=["text"],il=["text"],sl=function(e){var{marks:t,selection:n}=e;if(!n)return null;var{anchor:u,focus:a}=n;if(t)return t;if(E.isExpanded(n)){var i=s.isEnd(e,u,u.path);if(i){var l=s.after(e,u);l&&(u=l)}var[f]=s.nodes(e,{match:K.isText,at:{anchor:u,focus:a}});if(f){var[c]=f,v=ir(c,al);return v}else return{}}var{path:D}=u,[g]=s.leaf(e,D);if(u.offset===0){var C=s.previous(e,{at:D,match:K.isText}),m=s.above(e,{match:N=>H.isElement(N)&&s.isVoid(e,N)&&e.markableVoid(N)});if(!m){var o=s.above(e,{match:N=>H.isElement(N)&&s.isBlock(e,N)});if(C&&o){var[B,b]=C,[,A]=o;h.isAncestor(A,b)&&(g=B)}}}var S=ir(g,il);return S},ol=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:a,at:i=e.selection}=t;if(i){var l=s.after(e,i,{voids:u});if(l){var[,f]=s.last(e,[]),c=[l.path,f];if(h.isPath(i)&&i.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(h.isPath(i)){var[v]=s.parent(e,i);a=g=>v.children.includes(g)}else a=()=>!0;var[D]=s.nodes(e,{at:c,match:a,mode:n,voids:u});return D}}},ll=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.path(e,t,n),a=R.get(e,u);return[a,u]};function fl(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=r.selection,mode:n="all",universal:u=!1,reverse:a=!1,voids:i=!1,ignoreNonSelectable:l=!1}=e,{match:f}=e;if(f||(f=()=>!0),!!t){var c,v;if(Ys.isSpan(t))c=t[0],v=t[1];else{var D=s.path(r,t,{edge:"start"}),g=s.path(r,t,{edge:"end"});c=a?g:D,v=a?D:g}var C=R.nodes(r,{reverse:a,from:c,to:v,pass:N=>{var[$]=N;return H.isElement($)?!!(!i&&(s.isVoid(r,$)||s.isElementReadOnly(r,$))||l&&!s.isSelectable(r,$)):!1}}),m=[],o;for(var[B,b]of C)if(!(l&&H.isElement(B)&&!s.isSelectable(r,B))){var A=o&&h.compare(b,o[1])===0;if(!(n==="highest"&&A)){if(!f(B,b)){if(u&&!A&&K.isText(B))return;continue}if(n==="lowest"&&A){o=[B,b];continue}var S=n==="lowest"?o:[B,b];S&&(u?m.push(S):yield S),o=[B,b]}}n==="lowest"&&o&&(u?m.push(o):yield o),u&&(yield*m)}}()}var cl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:u}=t,a=v=>Bt.get(v)||[],i=v=>Et.get(v)||new Set,l=v=>{var D=a(v).pop(),g=D.join(",");return i(v).delete(g),D};if(s.isNormalizing(e)){if(n){var f=Array.from(R.nodes(e),v=>{var[,D]=v;return D}),c=new Set(f.map(v=>v.join(",")));Bt.set(e,f),Et.set(e,c)}a(e).length!==0&&s.withoutNormalizing(e,()=>{for(var v of a(e))if(R.has(e,v)){var D=s.node(e,v),[g,C]=D;H.isElement(g)&&g.children.length===0&&e.normalizeNode(D,{operation:u})}for(var m=a(e),o=m.length,B=0;m.length!==0;){if(!e.shouldNormalize({dirtyPaths:m,iteration:B,initialDirtyPathsLength:o,operation:u}))return;var b=l(e);if(R.has(e,b)){var A=s.node(e,b);e.normalizeNode(A,{operation:u})}B++,m=a(e)}})}},vl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.path(e,t,n),a=h.parent(u),i=s.node(e,a);return i},dl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:l}=a,f=s.pathRefs(e);return f.delete(a),a.current=null,l}},i=s.pathRefs(e);return i.add(a),a},hl=r=>{var e=pu.get(r);return e||(e=new Set,pu.set(r,e)),e},Dl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:u,edge:a}=n;if(h.isPath(t)){if(a==="start"){var[,i]=R.first(e,t);t=i}else if(a==="end"){var[,l]=R.last(e,t);t=l}}return E.isRange(t)&&(a==="start"?t=E.start(t):a==="end"?t=E.end(t):t=h.common(t.anchor.path,t.focus.path)),te.isPoint(t)&&(t=t.path),u!=null&&(t=t.slice(0,u)),t},gl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:l}=a,f=s.pointRefs(e);return f.delete(a),a.current=null,l}},i=s.pointRefs(e);return i.add(a),a},ml=r=>{var e=Cu.get(r);return e||(e=new Set,Cu.set(r,e)),e},pl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:u="start"}=n;if(h.isPath(t)){var a;if(u==="end"){var[,i]=R.last(e,t);a=i}else{var[,l]=R.first(e,t);a=l}var f=R.get(e,a);if(!K.isText(f))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(t,"] because it has no ").concat(u," text node."));return{path:a,offset:u==="end"?f.text.length:0}}if(E.isRange(t)){var[c,v]=E.edges(t);return u==="start"?c:v}return t};function Cl(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=r.selection,unit:n="offset",reverse:u=!1,voids:a=!1,ignoreNonSelectable:i=!1}=e;if(!t)return;var l=s.range(r,t),[f,c]=E.edges(l),v=u?c:f,D=!1,g="",C=0,m=0,o=0;for(var[B,b]of s.nodes(r,{at:t,reverse:u,voids:a,ignoreNonSelectable:i})){if(H.isElement(B)){if(!a&&(r.isVoid(B)||r.isElementReadOnly(B))){yield s.start(r,b);continue}if(r.isInline(B))continue;if(s.hasInlines(r,B)){var A=h.isAncestor(b,c.path)?c:s.end(r,b),S=h.isAncestor(b,f.path)?f:s.start(r,b);g=s.string(r,{anchor:S,focus:A},{voids:a}),D=!0}}if(K.isText(B)){var N=h.equals(b,v.path);for(N?(m=u?v.offset:B.text.length-v.offset,o=v.offset):(m=B.text.length,o=u?m:0),(N||D||n==="offset")&&(yield{path:b,offset:o},D=!1);;){if(C===0){if(g==="")break;C=$(g,n,u),g=nn(g,C,u)[1]}if(o=u?o-C:o+C,m=m-C,m<0){C=-m;break}C=0,yield{path:b,offset:o}}}}function $(W,z,U){return z==="character"?tn(W,U):z==="word"?Qs(W,U):z==="line"||z==="block"?W.length:1}}()}var Bl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:u=!1}=t,{match:a,at:i=e.selection}=t;if(i){var l=s.before(e,i,{voids:u});if(l){var[,f]=s.first(e,[]),c=[l.path,f];if(h.isPath(i)&&i.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(h.isPath(i)){var[v]=s.parent(e,i);a=g=>v.children.includes(g)}else a=()=>!0;var[D]=s.nodes(e,{reverse:!0,at:c,match:a,mode:n,voids:u});return D}}},El=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:u="forward"}=n,a={current:t,affinity:u,unref(){var{current:l}=a,f=s.rangeRefs(e);return f.delete(a),a.current=null,l}},i=s.rangeRefs(e);return i.add(a),a},bl=r=>{var e=Bu.get(r);return e||(e=new Set,Bu.set(r,e)),e},Al=(r,e,t)=>{if(E.isRange(e)&&!t)return e;var n=s.start(r,e),u=s.end(r,t||e);return{anchor:n,focus:u}};function Uu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Fl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Uu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var wl=(r,e)=>{var{selection:t}=r;if(t){var n=(v,D)=>{if(!K.isText(v))return!1;var[g,C]=s.parent(r,D);return!r.isVoid(g)||r.markableVoid(g)},u=E.isExpanded(t),a=!1;if(!u){var[i,l]=s.node(r,t);if(i&&n(i,l)){var[f]=s.parent(r,l);a=f&&r.markableVoid(f)}}if(u||a)x.unsetNodes(r,e,{match:n,split:!0,voids:!0});else{var c=Fl({},s.marks(r)||{});delete c[e],r.marks=c,Jr.get(r)||r.onChange()}}},yl=(r,e)=>{mu.set(r,e)},Ol=(r,e)=>s.point(r,e,{edge:"start"}),xl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,a=s.range(e,t),[i,l]=E.edges(a),f="";for(var[c,v]of s.nodes(e,{at:a,match:K.isText,voids:u})){var D=c.text;h.equals(v,l.path)&&(D=D.slice(0,l.offset)),h.equals(v,i.path)&&(D=D.slice(i.offset)),f+=D}return f},Pl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:u=!1}=n,[a,i]=E.edges(t);if(a.offset!==0||i.offset!==0||E.isCollapsed(t)||h.hasPrevious(i.path))return t;var l=s.above(e,{at:i,match:m=>H.isElement(m)&&s.isBlock(e,m),voids:u}),f=l?l[1]:[],c=s.start(e,a),v={anchor:c,focus:i},D=!0;for(var[g,C]of s.nodes(e,{at:v,match:K.isText,reverse:!0,voids:u})){if(D){D=!1;continue}if(g.text!==""||h.isBefore(C,f)){i={path:C,offset:g.text.length};break}}return{anchor:a,focus:i}},Sl=(r,e)=>{var t=s.isNormalizing(r);s.setNormalizing(r,!1);try{e()}finally{s.setNormalizing(r,t)}s.normalize(r)},Tl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var n,u,{reverse:a=!1,unit:i="character",distance:l=1,voids:f=!1}=t,{at:c=e.selection,hanging:v=!1}=t;if(c){var D=!1;if(E.isRange(c)&&E.isCollapsed(c)&&(D=!0,c=c.anchor),te.isPoint(c)){var g=s.void(e,{at:c,mode:"highest"});if(!f&&g){var[,C]=g;c=C}else{var m={unit:i,distance:l},o=a?s.before(e,c,m)||s.start(e,[]):s.after(e,c,m)||s.end(e,[]);c={anchor:c,focus:o},v=!0}}if(h.isPath(c)){x.removeNodes(e,{at:c,voids:f});return}if(!E.isCollapsed(c)){if(!v){var[,B]=E.edges(c),b=s.end(e,[]);te.equals(B,b)||(c=s.unhangRange(e,c,{voids:f}))}var[A,S]=E.edges(c),N=s.above(e,{match:ue=>H.isElement(ue)&&s.isBlock(e,ue),at:A,voids:f}),$=s.above(e,{match:ue=>H.isElement(ue)&&s.isBlock(e,ue),at:S,voids:f}),W=N&&$&&!h.equals(N[1],$[1]),z=h.equals(A.path,S.path),U=f?null:(n=s.void(e,{at:A,mode:"highest"}))!==null&&n!==void 0?n:s.elementReadOnly(e,{at:A,mode:"highest"}),I=f?null:(u=s.void(e,{at:S,mode:"highest"}))!==null&&u!==void 0?u:s.elementReadOnly(e,{at:S,mode:"highest"});if(U){var V=s.before(e,A);V&&N&&h.isAncestor(N[1],V.path)&&(A=V)}if(I){var _=s.after(e,S);_&&$&&h.isAncestor($[1],_.path)&&(S=_)}var T=[],L;for(var j of s.nodes(e,{at:c,voids:f})){var[M,re]=j;L&&h.compare(re,L)===0||(!f&&H.isElement(M)&&(s.isVoid(e,M)||s.isElementReadOnly(e,M))||!h.isCommon(re,A.path)&&!h.isCommon(re,S.path))&&(T.push(j),L=re)}var Y=Array.from(T,ue=>{var[,be]=ue;return s.pathRef(e,be)}),ce=s.pointRef(e,A),X=s.pointRef(e,S),ne="";if(!z&&!U){var ge=ce.current,[ve]=s.leaf(e,ge),{path:Fe}=ge,{offset:p}=A,O=ve.text.slice(p);O.length>0&&(e.apply({type:"remove_text",path:Fe,offset:p,text:O}),ne=O)}if(Y.reverse().map(ue=>ue.unref()).filter(ue=>ue!==null).forEach(ue=>x.removeNodes(e,{at:ue,voids:f})),!I){var y=X.current,[k]=s.leaf(e,y),{path:Q}=y,G=z?A.offset:0,ee=k.text.slice(G,S.offset);ee.length>0&&(e.apply({type:"remove_text",path:Q,offset:G,text:ee}),ne=ee)}!z&&W&&X.current&&ce.current&&x.mergeNodes(e,{at:X.current,hanging:!0,voids:f}),D&&a&&i==="character"&&ne.length>1&&ne.match(/[\u0E00-\u0E7F]+/)&&x.insertText(e,ne.slice(0,ne.length-l));var oe=ce.unref(),ie=X.unref(),De=a?oe||ie:ie||oe;t.at==null&&De&&x.select(e,De)}}})},jl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:a=!1}=n,{at:i=rn(e),batchDirty:l=!0}=n;if(t.length){if(E.isRange(i))if(u||(i=s.unhangRange(e,i,{voids:a})),E.isCollapsed(i))i=i.anchor;else{var[,f]=E.edges(i);if(!a&&s.void(e,{at:f}))return;var c=s.pointRef(e,f);x.delete(e,{at:i}),i=c.unref()}else h.isPath(i)&&(i=s.start(e,i));if(!(!a&&s.void(e,{at:i}))){var v=s.above(e,{at:i,match:O=>H.isElement(O)&&s.isInline(e,O),mode:"highest",voids:a});if(v){var[,D]=v;if(s.isEnd(e,i,D)){var g=s.after(e,D);i=g}else if(s.isStart(e,i,D)){var C=s.before(e,D);i=C}}var m=s.above(e,{match:O=>H.isElement(O)&&s.isBlock(e,O),at:i,voids:a}),[,o]=m,B=s.isStart(e,i,o),b=s.isEnd(e,i,o),A=B&&b,S=!B||B&&b,N=!b,[,$]=R.first({children:t},[]),[,W]=R.last({children:t},[]),z=[],U=O=>{var[y,k]=O,Q=k.length===0;return Q?!1:A?!0:!(S&&h.isAncestor(k,$)&&H.isElement(y)&&!e.isVoid(y)&&!e.isInline(y)||N&&h.isAncestor(k,W)&&H.isElement(y)&&!e.isVoid(y)&&!e.isInline(y))};for(var I of R.nodes({children:t},{pass:U}))U(I)&&z.push(I);var V=[],_=[],T=[],L=!0,j=!1;for(var[M]of z)H.isElement(M)&&!e.isInline(M)?(L=!1,j=!0,_.push(M)):L?V.push(M):T.push(M);var[re]=s.nodes(e,{at:i,match:O=>K.isText(O)||s.isInline(e,O),mode:"highest",voids:a}),[,Y]=re,ce=s.isStart(e,i,Y),X=s.isEnd(e,i,Y),ne=s.pathRef(e,b&&!T.length?h.next(o):o),ge=s.pathRef(e,X?h.next(Y):Y);x.splitNodes(e,{at:i,match:O=>j?H.isElement(O)&&s.isBlock(e,O):K.isText(O)||s.isInline(e,O),mode:j?"lowest":"highest",always:j&&(!B||V.length>0)&&(!b||T.length>0),voids:a});var ve=s.pathRef(e,!ce||ce&&X?h.next(Y):Y);if(x.insertNodes(e,V,{at:ve.current,match:O=>K.isText(O)||s.isInline(e,O),mode:"highest",voids:a,batchDirty:l}),A&&!V.length&&_.length&&!T.length&&x.delete(e,{at:o,voids:a}),x.insertNodes(e,_,{at:ne.current,match:O=>H.isElement(O)&&s.isBlock(e,O),mode:"lowest",voids:a,batchDirty:l}),x.insertNodes(e,T,{at:ge.current,match:O=>K.isText(O)||s.isInline(e,O),mode:"highest",voids:a,batchDirty:l}),!n.at){var Fe;if(T.length>0&&ge.current?Fe=h.previous(ge.current):_.length>0&&ne.current?Fe=h.previous(ne.current):ve.current&&(Fe=h.previous(ve.current)),Fe){var p=s.end(e,Fe);x.select(e,p)}}ve.unref(),ne.unref(),ge.unref()}}})},Nl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:u}=e;if(u){if(n==="anchor")x.select(e,u.anchor);else if(n==="focus")x.select(e,u.focus);else if(n==="start"){var[a]=E.edges(u);x.select(e,a)}else if(n==="end"){var[,i]=E.edges(u);x.select(e,i)}}else return},Rl=r=>{var{selection:e}=r;e&&r.apply({type:"set_selection",properties:e,newProperties:null})},Ml=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:u=1,unit:a="character",reverse:i=!1}=t,{edge:l=null}=t;if(n){l==="start"&&(l=E.isBackward(n)?"focus":"anchor"),l==="end"&&(l=E.isBackward(n)?"anchor":"focus");var{anchor:f,focus:c}=n,v={distance:u,unit:a,ignoreNonSelectable:!0},D={};if(l==null||l==="anchor"){var g=i?s.before(e,f,v):s.after(e,f,v);g&&(D.anchor=g)}if(l==null||l==="focus"){var C=i?s.before(e,c,v):s.after(e,c,v);C&&(D.focus=C)}x.setSelection(e,D)}},Il=(r,e)=>{var{selection:t}=r;if(e=s.range(r,e),t){x.setSelection(r,e);return}if(!E.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Pe.stringify(e)));r.apply({type:"set_selection",properties:t,newProperties:e})};function Yu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Gu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Yu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var kl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:u}=e,{edge:a="both"}=n;if(u){a==="start"&&(a=E.isBackward(u)?"focus":"anchor"),a==="end"&&(a=E.isBackward(u)?"anchor":"focus");var{anchor:i,focus:l}=u,f=a==="anchor"?i:l;x.setSelection(e,{[a==="anchor"?"anchor":"focus"]:Gu(Gu({},f),t)})}},$l=(r,e)=>{var{selection:t}=r,n={},u={};if(t){for(var a in e)(a==="anchor"&&e.anchor!=null&&!te.equals(e.anchor,t.anchor)||a==="focus"&&e.focus!=null&&!te.equals(e.focus,t.focus)||a!=="anchor"&&a!=="focus"&&e[a]!==t[a])&&(n[a]=t[a],u[a]=e[a]);Object.keys(n).length>0&&r.apply({type:"set_selection",properties:n,newProperties:u})}},Ll=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{hanging:u=!1,voids:a=!1,mode:i="lowest",batchDirty:l=!0}=n,{at:f,match:c,select:v}=n;if(R.isNode(t)&&(t=[t]),t.length!==0){var[D]=t;if(f||(f=rn(e),v!==!1&&(v=!0)),v==null&&(v=!1),E.isRange(f))if(u||(f=s.unhangRange(e,f,{voids:a})),E.isCollapsed(f))f=f.anchor;else{var[,g]=E.edges(f),C=s.pointRef(e,g);x.delete(e,{at:f}),f=C.unref()}if(te.isPoint(f)){c==null&&(K.isText(D)?c=V=>K.isText(V):e.isInline(D)?c=V=>K.isText(V)||s.isInline(e,V):c=V=>H.isElement(V)&&s.isBlock(e,V));var[m]=s.nodes(e,{at:f.path,match:c,mode:i,voids:a});if(m){var[,o]=m,B=s.pathRef(e,o),b=s.isEnd(e,f,o);x.splitNodes(e,{at:f,match:c,mode:i,voids:a});var A=B.unref();f=b?h.next(A):A}else return}var S=h.parent(f),N=f[f.length-1];if(!(!a&&s.void(e,{at:S}))){if(l){var $=[],W=h.levels(S);bo(e,()=>{var V=function(){var L=S.concat(N);N++;var j={type:"insert_node",path:L,node:_};e.apply(j),f=h.next(f),$.push(j),K.isText?W.push(...Array.from(R.nodes(_),M=>{var[,re]=M;return L.concat(re)})):W.push(L)};for(var _ of t)V()},()=>{Ru(e,W,V=>{var _=V;for(var T of $)if(h.operationCanTransformPath(T)&&(_=h.transform(_,T),!_))return null;return _})})}else for(var z of t){var U=S.concat(N);N++,e.apply({type:"insert_node",path:U,node:z}),f=h.next(f)}if(f=h.previous(f),v){var I=s.end(e,f);I&&x.select(e,I)}}}})},Wl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:u="lowest",voids:a=!1}=t,{match:i}=t;if(i==null&&(i=h.isPath(n)?Mr(e,n):N=>H.isElement(N)&&s.isBlock(e,N)),!!n){var l=s.nodes(e,{at:n,match:i,mode:u,voids:a}),f=Array.from(l,N=>{var[,$]=N;return s.pathRef(e,$)});for(var c of f){var v=c.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var D=s.node(e,h.parent(v)),[g,C]=D,m=v[v.length-1],{length:o}=g.children;if(o===1){var B=h.next(C);x.moveNodes(e,{at:v,to:B,voids:a}),x.removeNodes(e,{at:C,voids:a})}else if(m===0)x.moveNodes(e,{at:v,to:C,voids:a});else if(m===o-1){var b=h.next(C);x.moveNodes(e,{at:v,to:b,voids:a})}else{var A=h.next(v),S=h.next(C);x.splitNodes(e,{at:A,voids:a}),x.moveNodes(e,{at:v,to:S,voids:a})}}}})},zl=["text"],Vl=["children"],_u=(r,e)=>{if(H.isElement(e)){var t=e;return s.isVoid(r,e)?!0:t.children.length===1?_u(r,t.children[0]):!1}else return!s.isEditor(e)},ql=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{match:n,at:u=e.selection}=t,{hanging:a=!1,voids:i=!1,mode:l="lowest"}=t;if(u){if(n==null)if(h.isPath(u)){var[f]=s.parent(e,u);n=V=>f.children.includes(V)}else n=V=>H.isElement(V)&&s.isBlock(e,V);if(!a&&E.isRange(u)&&(u=s.unhangRange(e,u,{voids:i})),E.isRange(u))if(E.isCollapsed(u))u=u.anchor;else{var[,c]=E.edges(u),v=s.pointRef(e,c);x.delete(e,{at:u}),u=v.unref(),t.at==null&&x.select(e,u)}var[D]=s.nodes(e,{at:u,match:n,voids:i,mode:l}),g=s.previous(e,{at:u,match:n,voids:i,mode:l});if(!(!D||!g)){var[C,m]=D,[o,B]=g;if(!(m.length===0||B.length===0)){var b=h.next(B),A=h.common(m,B),S=h.isSibling(m,B),N=Array.from(s.levels(e,{at:m}),V=>{var[_]=V;return _}).slice(A.length).slice(0,-1),$=s.above(e,{at:m,mode:"highest",match:V=>N.includes(V)&&_u(e,V)}),W=$&&s.pathRef(e,$[1]),z,U;if(K.isText(C)&&K.isText(o)){var I=ir(C,zl);U=o.text.length,z=I}else if(H.isElement(C)&&H.isElement(o)){var I=ir(C,Vl);U=o.children.length,z=I}else throw new Error("Cannot merge the node at path [".concat(m,"] with the previous sibling because it is not the same kind: ").concat(Pe.stringify(C)," ").concat(Pe.stringify(o)));S||x.moveNodes(e,{at:m,to:b,voids:i}),W&&x.removeNodes(e,{at:W.current,voids:i}),H.isElement(o)&&s.isEmpty(e,o)||K.isText(o)&&o.text===""&&B[B.length-1]!==0?x.removeNodes(e,{at:B,voids:i}):e.apply({type:"merge_node",path:b,position:U,properties:z}),W&&W.unref()}}}})},Hl=(r,e)=>{s.withoutNormalizing(r,()=>{var{to:t,at:n=r.selection,mode:u="lowest",voids:a=!1}=e,{match:i}=e;if(n){i==null&&(i=h.isPath(n)?Mr(r,n):C=>H.isElement(C)&&s.isBlock(r,C));var l=s.pathRef(r,t),f=s.nodes(r,{at:n,match:i,mode:u,voids:a}),c=Array.from(f,C=>{var[,m]=C;return s.pathRef(r,m)});for(var v of c){var D=v.unref(),g=l.current;D.length!==0&&r.apply({type:"move_node",path:D,newPath:g}),l.current&&h.isSibling(g,D)&&h.isAfter(g,D)&&(l.current=h.next(l.current))}l.unref()}})},Kl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:u=!1,mode:a="lowest"}=t,{at:i=e.selection,match:l}=t;if(i){l==null&&(l=h.isPath(i)?Mr(e,i):C=>H.isElement(C)&&s.isBlock(e,C)),!n&&E.isRange(i)&&(i=s.unhangRange(e,i,{voids:u}));var f=s.nodes(e,{at:i,match:l,mode:a,voids:u}),c=Array.from(f,C=>{var[,m]=C;return s.pathRef(e,m)});for(var v of c){var D=v.unref();if(D){var[g]=s.node(e,D);e.apply({type:"remove_node",path:D,node:g})}}}})},Ul=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{match:u,at:a=e.selection,compare:i,merge:l}=n,{hanging:f=!1,mode:c="lowest",split:v=!1,voids:D=!1}=n;if(a){if(u==null&&(u=h.isPath(a)?Mr(e,a):U=>H.isElement(U)&&s.isBlock(e,U)),!f&&E.isRange(a)&&(a=s.unhangRange(e,a,{voids:D})),v&&E.isRange(a)){if(E.isCollapsed(a)&&s.leaf(e,a.anchor)[0].text.length>0)return;var g=s.rangeRef(e,a,{affinity:"inward"}),[C,m]=E.edges(a),o=c==="lowest"?"lowest":"highest",B=s.isEnd(e,m,m.path);x.splitNodes(e,{at:m,match:u,mode:o,voids:D,always:!B});var b=s.isStart(e,C,C.path);x.splitNodes(e,{at:C,match:u,mode:o,voids:D,always:!b}),a=g.unref(),n.at==null&&x.select(e,a)}i||(i=(U,I)=>U!==I);for(var[A,S]of s.nodes(e,{at:a,match:u,mode:c,voids:D})){var N={},$={};if(S.length!==0){var W=!1;for(var z in t)z==="children"||z==="text"||i(t[z],A[z])&&(W=!0,A.hasOwnProperty(z)&&(N[z]=A[z]),l?t[z]!=null&&($[z]=l(A[z],t[z])):t[z]!=null&&($[z]=t[z]));W&&e.apply({type:"set_node",path:S,properties:N,newProperties:$})}}}})},Yl=(r,e)=>{if(E.isCollapsed(e))return e.anchor;var[,t]=E.edges(e),n=s.pointRef(r,t);return x.delete(r,{at:e}),n.unref()},Gl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:u=!1}=t,{match:a,at:i=e.selection,height:l=0,always:f=!1}=t;if(a==null&&(a=X=>H.isElement(X)&&s.isBlock(e,X)),E.isRange(i)&&(i=Yl(e,i)),h.isPath(i)){var c=i,v=s.point(e,c),[D]=s.parent(e,c);a=X=>X===D,l=v.path.length-c.length+1,i=v,f=!0}if(i){var g=s.pointRef(e,i,{affinity:"backward"}),C;try{var[m]=s.nodes(e,{at:i,match:a,mode:n,voids:u});if(!m)return;var o=s.void(e,{at:i,mode:"highest"}),B=0;if(!u&&o){var[b,A]=o;if(H.isElement(b)&&e.isInline(b)){var S=s.after(e,A);if(!S){var N={text:""},$=h.next(A);x.insertNodes(e,N,{at:$,voids:u}),S=s.point(e,$)}i=S,f=!0}var W=i.path.length-A.length;l=W+1,f=!0}C=s.pointRef(e,i);var z=i.path.length-l,[,U]=m,I=i.path.slice(0,z),V=l===0?i.offset:i.path[z]+B;for(var[_,T]of s.levels(e,{at:I,reverse:!0,voids:u})){var L=!1;if(T.length<U.length||T.length===0||!u&&H.isElement(_)&&s.isVoid(e,_))break;var j=g.current,M=s.isEnd(e,j,T);if(f||!g||!s.isEdge(e,j,T)){L=!0;var re=R.extractProps(_);e.apply({type:"split_node",path:T,position:V,properties:re})}V=T[T.length-1]+(L||M?1:0)}if(t.at==null){var Y=C.current||s.end(e,[]);x.select(e,Y)}}finally{var ce;g.unref(),(ce=C)===null||ce===void 0||ce.unref()}}})},_l=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var u={};for(var a of t)u[a]=null;x.setNodes(e,u,n)},Xl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.withoutNormalizing(e,()=>{var{mode:n="lowest",split:u=!1,voids:a=!1}=t,{at:i=e.selection,match:l}=t;if(i){l==null&&(l=h.isPath(i)?Mr(e,i):C=>H.isElement(C)&&s.isBlock(e,C)),h.isPath(i)&&(i=s.range(e,i));var f=E.isRange(i)?s.rangeRef(e,i):null,c=s.nodes(e,{at:i,match:l,mode:n,voids:a}),v=Array.from(c,C=>{var[,m]=C;return s.pathRef(e,m)}).reverse(),D=function(){var m=g.unref(),[o]=s.node(e,m),B=s.range(e,m);u&&f&&(B=E.intersection(f.current,B)),x.liftNodes(e,{at:B,match:b=>H.isAncestor(o)&&o.children.includes(b),voids:a})};for(var g of v)D();f&&f.unref()}})};function Xu(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Ju(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xu(Object(t),!0).forEach(function(n){Ne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xu(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Jl=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.withoutNormalizing(e,()=>{var{mode:u="lowest",split:a=!1,voids:i=!1}=n,{match:l,at:f=e.selection}=n;if(f){if(l==null&&(h.isPath(f)?l=Mr(e,f):e.isInline(t)?l=B=>H.isElement(B)&&s.isInline(e,B)||K.isText(B):l=B=>H.isElement(B)&&s.isBlock(e,B)),a&&E.isRange(f)){var[c,v]=E.edges(f),D=s.rangeRef(e,f,{affinity:"inward"});x.splitNodes(e,{at:v,match:l,voids:i}),x.splitNodes(e,{at:c,match:l,voids:i}),f=D.unref(),n.at==null&&x.select(e,f)}var g=Array.from(s.nodes(e,{at:f,match:e.isInline(t)?B=>H.isElement(B)&&s.isBlock(e,B):B=>s.isEditor(B),mode:"lowest",voids:i})),C=function(){var b=E.isRange(f)?E.intersection(f,s.range(e,o)):f;if(!b)return 0;var A=Array.from(s.nodes(e,{at:b,match:l,mode:u,voids:i}));if(A.length>0){var[S]=A,N=A[A.length-1],[,$]=S,[,W]=N;if($.length===0&&W.length===0)return 0;var z=h.equals($,W)?h.parent($):h.common($,W),U=s.range(e,$,W),I=s.node(e,z),[V]=I,_=z.length+1,T=h.next(W.slice(0,_)),L=Ju(Ju({},t),{},{children:[]});x.insertNodes(e,L,{at:T,voids:i}),x.moveNodes(e,{at:U,match:j=>H.isAncestor(V)&&V.children.includes(j),to:T.concat(0),voids:i})}},m;for(var[,o]of g)m=C()}})},Zl=()=>{var r={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ao(r,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Po(r,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return jo(r,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return No(r,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ro(r,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return wo(r,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ko(r,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Yo(r,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return jl(r,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Uo(r,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return _o(r,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return yo(r,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return wl(r,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Fo(r,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Oo(r,...n)},above:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return xo(r,...n)},after:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return So(r,...n)},before:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return To(r,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Nl(r,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Tl(r,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Rl(r,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Mo(r,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Io(r,...n)},end:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ko(r,...n)},first:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return $o(r,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Lo(r,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return sl(r,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return zo(r,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Vo(r,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return qo(r,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ho(r,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ll(r,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Xo(r,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Jo(r,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Zo(r,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Qo(r,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return el(r,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return rl(r,...n)},last:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return tl(r,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return nl(r,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ul(r,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Wl(r,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ql(r,...n)},move:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ml(r,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Hl(r,...n)},next:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ol(r,...n)},node:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ll(r,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return fl(r,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return cl(r,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return vl(r,...n)},path:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Dl(r,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return dl(r,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return hl(r,...n)},point:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return pl(r,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return gl(r,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ml(r,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Cl(r,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Bl(r,...n)},range:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Al(r,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return El(r,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return bl(r,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Kl(r,...n)},select:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Il(r,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ul(r,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return yl(r,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return kl(r,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return $l(r,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Gl(r,...n)},start:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Ol(r,...n)},string:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return xl(r,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Pl(r,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return _l(r,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Xl(r,...n)},void:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Wo(r,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Sl(r,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return Jl(r,...n)}};return r},Or=[],Ql=function(){return Or.some(function(r){return r.activeTargets.length>0})},ef=function(){return Or.some(function(r){return r.skippedTargets.length>0})},Zu="ResizeObserver loop completed with undelivered notifications.",rf=function(){var r;typeof ErrorEvent=="function"?r=new ErrorEvent("error",{message:Zu}):(r=document.createEvent("Event"),r.initEvent("error",!1,!1),r.message=Zu),window.dispatchEvent(r)},et;(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(et||(et={}));var xr=function(r){return Object.freeze(r)},tf=function(){function r(e,t){this.inlineSize=e,this.blockSize=t,xr(this)}return r}(),Qu=function(){function r(e,t,n,u){return this.x=e,this.y=t,this.width=n,this.height=u,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,xr(this)}return r.prototype.toJSON=function(){var e=this,t=e.x,n=e.y,u=e.top,a=e.right,i=e.bottom,l=e.left,f=e.width,c=e.height;return{x:t,y:n,top:u,right:a,bottom:i,left:l,width:f,height:c}},r.fromRect=function(e){return new r(e.x,e.y,e.width,e.height)},r}(),un=function(r){return r instanceof SVGElement&&"getBBox"in r},ea=function(r){if(un(r)){var e=r.getBBox(),t=e.width,n=e.height;return!t&&!n}var u=r,a=u.offsetWidth,i=u.offsetHeight;return!(a||i||r.getClientRects().length)},ra=function(r){var e;if(r instanceof Element)return!0;var t=(e=r==null?void 0:r.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&r instanceof t.Element)},nf=function(r){switch(r.tagName){case"INPUT":if(r.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},rt=typeof window<"u"?window:{},Ft=new WeakMap,ta=/auto|scroll/,uf=/^tb|vertical/,af=/msie|trident/i.test(rt.navigator&&rt.navigator.userAgent),Qe=function(r){return parseFloat(r||"0")},kr=function(r,e,t){return r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=!1),new tf((t?e:r)||0,(t?r:e)||0)},na=xr({devicePixelContentBoxSize:kr(),borderBoxSize:kr(),contentBoxSize:kr(),contentRect:new Qu(0,0,0,0)}),ua=function(r,e){if(e===void 0&&(e=!1),Ft.has(r)&&!e)return Ft.get(r);if(ea(r))return Ft.set(r,na),na;var t=getComputedStyle(r),n=un(r)&&r.ownerSVGElement&&r.getBBox(),u=!af&&t.boxSizing==="border-box",a=uf.test(t.writingMode||""),i=!n&&ta.test(t.overflowY||""),l=!n&&ta.test(t.overflowX||""),f=n?0:Qe(t.paddingTop),c=n?0:Qe(t.paddingRight),v=n?0:Qe(t.paddingBottom),D=n?0:Qe(t.paddingLeft),g=n?0:Qe(t.borderTopWidth),C=n?0:Qe(t.borderRightWidth),m=n?0:Qe(t.borderBottomWidth),o=n?0:Qe(t.borderLeftWidth),B=D+c,b=f+v,A=o+C,S=g+m,N=l?r.offsetHeight-S-r.clientHeight:0,$=i?r.offsetWidth-A-r.clientWidth:0,W=u?B+A:0,z=u?b+S:0,U=n?n.width:Qe(t.width)-W-$,I=n?n.height:Qe(t.height)-z-N,V=U+B+$+A,_=I+b+N+S,T=xr({devicePixelContentBoxSize:kr(Math.round(U*devicePixelRatio),Math.round(I*devicePixelRatio),a),borderBoxSize:kr(V,_,a),contentBoxSize:kr(U,I,a),contentRect:new Qu(D,f,U,I)});return Ft.set(r,T),T},aa=function(r,e,t){var n=ua(r,t),u=n.borderBoxSize,a=n.contentBoxSize,i=n.devicePixelContentBoxSize;switch(e){case et.DEVICE_PIXEL_CONTENT_BOX:return i;case et.BORDER_BOX:return u;default:return a}},sf=function(){function r(e){var t=ua(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=xr([t.borderBoxSize]),this.contentBoxSize=xr([t.contentBoxSize]),this.devicePixelContentBoxSize=xr([t.devicePixelContentBoxSize])}return r}(),ia=function(r){if(ea(r))return 1/0;for(var e=0,t=r.parentNode;t;)e+=1,t=t.parentNode;return e},of=function(){var r=1/0,e=[];Or.forEach(function(i){if(i.activeTargets.length!==0){var l=[];i.activeTargets.forEach(function(c){var v=new sf(c.target),D=ia(c.target);l.push(v),c.lastReportedSize=aa(c.target,c.observedBox),D<r&&(r=D)}),e.push(function(){i.callback.call(i.observer,l,i.observer)}),i.activeTargets.splice(0,i.activeTargets.length)}});for(var t=0,n=e;t<n.length;t++){var u=n[t];u()}return r},sa=function(r){Or.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(u){u.isActive()&&(ia(u.target)>r?t.activeTargets.push(u):t.skippedTargets.push(u))})})},lf=function(){var r=0;for(sa(r);Ql();)r=of(),sa(r);return ef()&&rf(),r>0},an,oa=[],ff=function(){return oa.splice(0).forEach(function(r){return r()})},cf=function(r){if(!an){var e=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return ff()}).observe(t,n),an=function(){t.textContent="".concat(e?e--:e++)}}oa.push(r),an()},vf=function(r){cf(function(){requestAnimationFrame(r)})},wt=0,df=function(){return!!wt},hf=250,Df={attributes:!0,characterData:!0,childList:!0,subtree:!0},la=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],fa=function(r){return r===void 0&&(r=0),Date.now()+r},sn=!1,gf=function(){function r(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return r.prototype.run=function(e){var t=this;if(e===void 0&&(e=hf),!sn){sn=!0;var n=fa(e);vf(function(){var u=!1;try{u=lf()}finally{if(sn=!1,e=n-fa(),!df())return;u?t.run(1e3):e>0?t.run(e):t.start()}})}},r.prototype.schedule=function(){this.stop(),this.run()},r.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Df)};document.body?t():rt.addEventListener("DOMContentLoaded",t)},r.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),la.forEach(function(t){return rt.addEventListener(t,e.listener,!0)}))},r.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),la.forEach(function(t){return rt.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},r}(),on=new gf,ca=function(r){!wt&&r>0&&on.start(),wt+=r,!wt&&on.stop()},mf=function(r){return!un(r)&&!nf(r)&&getComputedStyle(r).display==="inline"},pf=function(){function r(e,t){this.target=e,this.observedBox=t||et.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return r.prototype.isActive=function(){var e=aa(this.target,this.observedBox,!0);return mf(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},r}(),Cf=function(){function r(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return r}(),yt=new WeakMap,va=function(r,e){for(var t=0;t<r.length;t+=1)if(r[t].target===e)return t;return-1},Ot=function(){function r(){}return r.connect=function(e,t){var n=new Cf(e,t);yt.set(e,n)},r.observe=function(e,t,n){var u=yt.get(e),a=u.observationTargets.length===0;va(u.observationTargets,t)<0&&(a&&Or.push(u),u.observationTargets.push(new pf(t,n&&n.box)),ca(1),on.schedule())},r.unobserve=function(e,t){var n=yt.get(e),u=va(n.observationTargets,t),a=n.observationTargets.length===1;u>=0&&(a&&Or.splice(Or.indexOf(n),1),n.observationTargets.splice(u,1),ca(-1))},r.disconnect=function(e){var t=this,n=yt.get(e);n.observationTargets.slice().forEach(function(u){return t.unobserve(e,u.target)}),n.activeTargets.splice(0,n.activeTargets.length)},r}(),Bf=function(){function r(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ot.connect(this,e)}return r.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ra(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ot.observe(this,e,t)},r.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ra(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ot.unobserve(this,e)},r.prototype.disconnect=function(){Ot.disconnect(this)},r.toString=function(){return"function ResizeObserver () { [polyfill code] }"},r}(),or={};Object.defineProperty(or,"__esModule",{value:!0});for(var Ef=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ln={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},da={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Ef?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},fn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},xt=1;xt<20;xt++)fn["f"+xt]=111+xt;function Pt(r,e,t){e&&!("byKey"in e)&&(t=e,e=null),Array.isArray(r)||(r=[r]);var n=r.map(function(i){return ha(i,e)}),u=function(l){return n.some(function(f){return Da(f,l)})},a=t==null?u:u(t);return a}function bf(r,e){return Pt(r,e)}function Af(r,e){return Pt(r,{byKey:!0},e)}function ha(r,e){var t=e&&e.byKey,n={};r=r.replace("++","+add");var u=r.split("+"),a=u.length;for(var i in ln)n[ln[i]]=!1;var l=!0,f=!1,c=void 0;try{for(var v=u[Symbol.iterator](),D;!(l=(D=v.next()).done);l=!0){var g=D.value,C=g.endsWith("?")&&g.length>1;C&&(g=g.slice(0,-1));var m=cn(g),o=ln[m];if(g.length>1&&!o&&!da[g]&&!fn[m])throw new TypeError('Unknown modifier: "'+g+'"');(a===1||!o)&&(t?n.key=m:n.which=ga(g)),o&&(n[o]=C?null:!0)}}catch(B){f=!0,c=B}finally{try{!l&&v.return&&v.return()}finally{if(f)throw c}}return n}function Da(r,e){for(var t in r){var n=r[t],u=void 0;if(n!=null&&(t==="key"&&e.key!=null?u=e.key.toLowerCase():t==="which"?u=n===91&&e.which===93?91:e.which:u=e[t],!(u==null&&n===!1)&&u!==n))return!1}return!0}function ga(r){r=cn(r);var e=fn[r]||r.toUpperCase().charCodeAt(0);return e}function cn(r){return r=r.toLowerCase(),r=da[r]||r,r}or.default=Pt;var vn=or.isHotkey=Pt;or.isCodeHotkey=bf,or.isKeyHotkey=Af,or.parseHotkey=ha,or.compareHotkey=Da,or.toKeyCode=ga,or.toKeyName=cn;function Ff(r,e){if(r==null)return{};var t={},n=Object.keys(r),u,a;for(a=0;a<n.length;a++)u=n[a],!(e.indexOf(u)>=0)&&(t[u]=r[u]);return t}function $r(r,e){if(r==null)return{};var t=Ff(r,e),n,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(u=0;u<a.length;u++)n=a[u],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function tt(r){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(r)}function wf(r,e){if(tt(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(tt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yf(r){var e=wf(r,"string");return tt(e)==="symbol"?e:String(e)}function Ue(r,e,t){return e=yf(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var dn=F.createContext(null),hr=()=>{var r=F.useContext(dn);if(!r)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return r},ma=parseInt(F.version.split(".")[0],10),Of=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pa=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Re=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Lr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),nt=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),xf=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Ca=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Pf=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Sf=Re&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Tf=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),jf=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Nf=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),St=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dr=(!Pf||!Sf)&&!xf&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",hn=new WeakMap,Dn=new WeakMap,Ba=new WeakMap,Tt=new WeakMap,gn=new WeakMap,ut=new WeakMap,Pr=new WeakMap,jt=new WeakMap,Nt=new WeakMap,mn=new WeakMap,gr=new WeakMap,Sr=new WeakMap,at=new WeakMap,pn=new WeakMap,Cn=new WeakMap,Je=new WeakMap,lr=new WeakMap,Le=new WeakMap,mr=new WeakMap,pr=new WeakMap,Ea=new WeakMap,Wr=Symbol("placeholder"),ba=Symbol("mark-placeholder"),Rf=globalThis.Text,Bn=r=>r&&r.ownerDocument&&r.ownerDocument.defaultView||null,Mf=r=>Cr(r)&&r.nodeType===8,Ye=r=>Cr(r)&&r.nodeType===1,Cr=r=>{var e=Bn(r);return!!e&&r instanceof e.Node},En=r=>{var e=r&&r.anchorNode&&Bn(r.anchorNode);return!!e&&r instanceof e.Selection},Aa=r=>Cr(r)&&r.nodeType===3,If=r=>r.clipboardData&&r.clipboardData.getData("text/plain")!==""&&r.clipboardData.types.length===1,kf=r=>{var[e,t]=r;if(Ye(e)&&e.childNodes.length){var n=t===e.childNodes.length,u=n?t-1:t;for([e,u]=Fa(e,u,n?"backward":"forward"),n=u<t;Ye(e)&&e.childNodes.length;){var a=n?e.childNodes.length-1:0;e=Lf(e,a,n?"backward":"forward")}t=n&&e.textContent!=null?e.textContent.length:0}return[e,t]},$f=r=>{for(var e=r&&r.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},Fa=(r,e,t)=>{for(var{childNodes:n}=r,u=n[e],a=e,i=!1,l=!1;(Mf(u)||Ye(u)&&u.childNodes.length===0||Ye(u)&&u.getAttribute("contenteditable")==="false")&&!(i&&l);){if(a>=n.length){i=!0,a=e-1,t="backward";continue}if(a<0){l=!0,a=e+1,t="forward";continue}u=n[a],e=a,a+=t==="forward"?1:-1}return[u,e]},Lf=(r,e,t)=>{var[n]=Fa(r,e,t);return n},wa=r=>{var e="";if(Aa(r)&&r.nodeValue)return r.nodeValue;if(Ye(r)){for(var t of Array.from(r.childNodes))e+=wa(t);var n=getComputedStyle(r).getPropertyValue("display");(n==="block"||n==="list"||r.tagName==="BR")&&(e+=`
`)}return e},Wf=/data-slate-fragment="(.+?)"/m,zf=r=>{var e=r.getData("text/html"),[,t]=e.match(Wf)||[];return t},bn=(r,e,t)=>{var{target:n}=e;if(Ye(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:u}=w.getWindow(r);if(u.contains(n))return w.hasDOMNode(r,n,{editable:!0});var a=t.find(i=>{var{addedNodes:l,removedNodes:f}=i;for(var c of l)if(c===n||c.contains(n))return!0;for(var v of f)if(v===n||v.contains(n))return!0});return!a||a===e?!1:bn(r,a,t)},Vf=0;class qf{constructor(){Ue(this,"id",void 0),this.id="".concat(Vf++)}}var w={androidPendingDiffs:r=>Le.get(r),androidScheduleFlush:r=>{var e;(e=Cn.get(r))===null||e===void 0||e()},blur:r=>{var e=w.toDOMNode(r,r),t=w.findDocumentOrShadowRoot(r);gr.set(r,!1),t.activeElement===e&&e.blur()},deselect:r=>{var{selection:e}=r,t=w.findDocumentOrShadowRoot(r),n=t.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),e&&x.deselect(r)},findDocumentOrShadowRoot:r=>{var e=w.toDOMNode(r,r),t=e.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:e.ownerDocument},findEventRange:(r,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:t,clientY:n,target:u}=e;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var a=w.toSlateNode(r,e.target),i=w.findPath(r,a);if(H.isElement(a)&&s.isVoid(r,a)){var l=u.getBoundingClientRect(),f=r.isInline(a)?t-l.left<l.left+l.width-t:n-l.top<l.top+l.height-n,c=s.point(r,i,{edge:f?"start":"end"}),v=f?s.before(r,c):s.after(r,c);if(v){var D=s.range(r,v);return D}}var g,{document:C}=w.getWindow(r);if(C.caretRangeFromPoint)g=C.caretRangeFromPoint(t,n);else{var m=C.caretPositionFromPoint(t,n);m&&(g=C.createRange(),g.setStart(m.offsetNode,m.offset),g.setEnd(m.offsetNode,m.offset))}if(!g)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var o=w.toSlateRange(r,g,{exactMatch:!1,suppressThrow:!1});return o},findKey:(r,e)=>{var t=jt.get(e);return t||(t=new qf,jt.set(e,t)),t},findPath:(r,e)=>{for(var t=[],n=e;;){var u=Dn.get(n);if(u==null){if(s.isEditor(n))return t;break}var a=hn.get(n);if(a==null)break;t.unshift(a),n=u}throw new Error("Unable to find the path for Slate node: ".concat(Pe.stringify(e)))},focus:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!gr.get(e)){if(t.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{w.focus(e,{retries:t.retries-1})},10);return}var n=w.toDOMNode(e,e),u=w.findDocumentOrShadowRoot(e);if(u.activeElement!==n){if(e.selection&&u instanceof Document){var a=u.getSelection(),i=w.toDOMRange(e,e.selection);a==null||a.removeAllRanges(),a==null||a.addRange(i)}e.selection||(x.select(e,s.start(e,[])),e.onChange()),gr.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:r=>{var e=Ba.get(r);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:u=!1}=n,a=w.toDOMNode(e,e),i;try{i=Ye(t)?t:t.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return i?i.closest("[data-slate-editor]")===a&&(!u||i.isContentEditable?!0:typeof i.isContentEditable=="boolean"&&i.closest('[contenteditable="false"]')===a||!!i.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(r,e)=>Cr(e)&&w.hasDOMNode(r,e,{editable:!0}),hasRange:(r,e)=>{var{anchor:t,focus:n}=e;return s.hasPath(r,t.path)&&s.hasPath(r,n.path)},hasSelectableTarget:(r,e)=>w.hasEditableTarget(r,e)||w.isTargetInsideNonReadonlyVoid(r,e),hasTarget:(r,e)=>Cr(e)&&w.hasDOMNode(r,e),insertData:(r,e)=>{r.insertData(e)},insertFragmentData:(r,e)=>r.insertFragmentData(e),insertTextData:(r,e)=>r.insertTextData(e),isComposing:r=>!!Sr.get(r),isFocused:r=>!!gr.get(r),isReadOnly:r=>!!mn.get(r),isTargetInsideNonReadonlyVoid:(r,e)=>{if(mn.get(r))return!1;var t=w.hasTarget(r,e)&&w.toSlateNode(r,e);return H.isElement(t)&&s.isVoid(r,t)},setFragmentData:(r,e,t)=>r.setFragmentData(e,t),toDOMNode:(r,e)=>{var t=Nt.get(r),n=s.isEditor(e)?Tt.get(r):t==null?void 0:t.get(w.findKey(r,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Pe.stringify(e)));return n},toDOMPoint:(r,e)=>{var[t]=s.node(r,e.path),n=w.toDOMNode(r,t),u;s.void(r,{at:e})&&(e={path:e.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",i=Array.from(n.querySelectorAll(a)),l=0,f=0;f<i.length;f++){var c=i[f],v=c.childNodes[0];if(!(v==null||v.textContent==null)){var{length:D}=v.textContent,g=c.getAttribute("data-slate-length"),C=g==null?D:parseInt(g,10),m=l+C,o=i[f+1];if(e.offset===m&&o!==null&&o!==void 0&&o.hasAttribute("data-slate-mark-placeholder")){var B,b=o.childNodes[0];u=[b instanceof Rf?b:o,(B=o.textContent)!==null&&B!==void 0&&B.startsWith("\uFEFF")?1:0];break}if(e.offset<=m){var A=Math.min(D,Math.max(0,e.offset-l));u=[v,A];break}l=m}}if(!u)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Pe.stringify(e)));return u},toDOMRange:(r,e)=>{var{anchor:t,focus:n}=e,u=E.isBackward(e),a=w.toDOMPoint(r,t),i=E.isCollapsed(e)?a:w.toDOMPoint(r,n),l=w.getWindow(r),f=l.document.createRange(),[c,v]=u?i:a,[D,g]=u?a:i,C=Ye(c)?c:c.parentElement,m=!!C.getAttribute("data-slate-zero-width"),o=Ye(D)?D:D.parentElement,B=!!o.getAttribute("data-slate-zero-width");return f.setStart(c,m?1:v),f.setEnd(D,B?1:g),f},toSlateNode:(r,e)=>{var t=Ye(e)?e:e.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?ut.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},toSlatePoint:(r,e,t)=>{var{exactMatch:n,suppressThrow:u}=t,[a,i]=n?e:kf(e),l=a.parentNode,f=null,c=0;if(l){var v,D,g=w.toDOMNode(r,r),C=l.closest('[data-slate-void="true"]'),m=C&&g.contains(C)?C:null,o=l.closest("[data-slate-leaf]"),B=null;if(o){if(f=o.closest('[data-slate-node="text"]'),f){var b=w.getWindow(r),A=b.document.createRange();A.setStart(f,0),A.setEnd(a,i);var S=A.cloneContents(),N=[...Array.prototype.slice.call(S.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(S.querySelectorAll("[contenteditable=false]"))];N.forEach(j=>{if(Re&&!n&&j.hasAttribute("data-slate-zero-width")&&j.textContent.length>0&&j.textContext!=="\uFEFF"){j.textContent.startsWith("\uFEFF")&&(j.textContent=j.textContent.slice(1));return}j.parentNode.removeChild(j)}),c=S.textContent.length,B=f}}else if(m){for(var $=m.querySelectorAll("[data-slate-leaf]"),W=0;W<$.length;W++){var z=$[W];if(w.hasDOMNode(r,z)){o=z;break}}o?(f=o.closest('[data-slate-node="text"]'),B=o,c=B.textContent.length,B.querySelectorAll("[data-slate-zero-width]").forEach(j=>{c-=j.textContent.length})):c=1}B&&c===B.textContent.length&&Re&&B.getAttribute("data-slate-zero-width")==="z"&&(v=B.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(l.hasAttribute("data-slate-zero-width")||Lr&&(D=B.textContent)!==null&&D!==void 0&&D.endsWith(`

`))&&c--}if(Re&&!f&&!n){var U=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(U&&w.hasDOMNode(r,U,{editable:!0})){var I=w.toSlateNode(r,U),{path:V,offset:_}=s.start(r,w.findPath(r,I));return U.querySelector("[data-slate-leaf]")||(_=i),{path:V,offset:_}}}if(!f){if(u)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var T=w.toSlateNode(r,f),L=w.findPath(r,T);return{path:L,offset:c}},toSlateRange:(r,e,t)=>{var n,{exactMatch:u,suppressThrow:a}=t,i=En(e)?e.anchorNode:e.startContainer,l,f,c,v,D;if(i)if(En(e)){if(Lr&&e.rangeCount>1){c=e.focusNode;var g=e.getRangeAt(0),C=e.getRangeAt(e.rangeCount-1);if(c instanceof HTMLTableRowElement&&g.startContainer instanceof HTMLTableRowElement&&C.startContainer instanceof HTMLTableRowElement){let W=function(z){return z.childElementCount>0?W(z.children[0]):z};var m=g.startContainer,o=C.startContainer,B=W(m.children[g.startOffset]),b=W(o.children[C.startOffset]);v=0,b.childNodes.length>0?l=b.childNodes[0]:l=b,B.childNodes.length>0?c=B.childNodes[0]:c=B,b instanceof HTMLElement?f=b.innerHTML.length:f=0}else g.startContainer===c?(l=C.endContainer,f=C.endOffset,v=g.startOffset):(l=g.startContainer,f=g.endOffset,v=C.startOffset)}else l=e.anchorNode,f=e.anchorOffset,c=e.focusNode,v=e.focusOffset;Ca&&$f(l)||Lr?D=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:D=e.isCollapsed}else l=e.startContainer,f=e.startOffset,c=e.endContainer,v=e.endOffset,D=e.collapsed;if(l==null||c==null||f==null||v==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));if(Lr&&(n=c.textContent)!==null&&n!==void 0&&n.endsWith(`

`)&&v===c.textContent.length&&v--,"getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var A;c=l,v=((A=l.textContent)===null||A===void 0?void 0:A.length)||0}var S=w.toSlatePoint(r,[l,f],{exactMatch:u,suppressThrow:a});if(!S)return null;var N=D?S:w.toSlatePoint(r,[c,v],{exactMatch:u,suppressThrow:a});if(!N)return null;var $={anchor:S,focus:N};return E.isExpanded($)&&E.isForward($)&&Ye(c)&&s.void(r,{at:$.focus,mode:"highest"})&&($=s.unhangRange(r,$,{voids:!0})),$}};function Hf(r,e){var{path:t,diff:n}=e;if(!s.hasPath(r,t))return!1;var u=R.get(r,t);if(!K.isText(u))return!1;if(n.start!==u.text.length||n.text.length===0)return u.text.slice(n.start,n.start+n.text.length)===n.text;var a=h.next(t);if(!s.hasPath(r,a))return!1;var i=R.get(r,a);return K.isText(i)&&i.text.startsWith(n.text)}function ya(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t.reduce((u,a)=>u.slice(0,a.start)+a.text+u.slice(a.end),r)}function Kf(r,e){for(var t=Math.min(r.length,e.length),n=0;n<t;n++)if(r.charAt(n)!==e.charAt(n))return n;return t}function Uf(r,e,t){for(var n=Math.min(r.length,e.length,t),u=0;u<n;u++)if(r.charAt(r.length-u-1)!==e.charAt(e.length-u-1))return u;return n}function Oa(r,e){var{start:t,end:n,text:u}=e,a=r.slice(t,n),i=Kf(a,u),l=Math.min(a.length-i,u.length-i),f=Uf(a,u,l),c={start:t+i,end:n-f,text:u.slice(i,u.length-f)};return c.start===c.end&&c.text.length===0?null:c}function Yf(r,e,t){var n=Math.min(e.start,t.start),u=Math.max(0,Math.min(e.start+e.text.length,t.end)-t.start),a=ya(r,e,t),i=Math.max(t.start+t.text.length,e.start+e.text.length+(e.start+e.text.length>t.start?t.text.length:0)-u),l=a.slice(n,i),f=Math.max(e.end,t.end-e.text.length+(e.end-e.start));return Oa(r,{start:n,end:f,text:l})}function Gf(r){var{path:e,diff:t}=r;return{anchor:{path:e,offset:t.start},focus:{path:e,offset:t.end}}}function An(r,e){var{path:t,offset:n}=e;if(!s.hasPath(r,t))return null;var u=R.get(r,t);if(!K.isText(u))return null;var a=s.above(r,{match:l=>H.isElement(l)&&s.isBlock(r,l),at:t});if(!a)return null;for(;n>u.text.length;){var i=s.next(r,{at:t,match:K.isText});if(!i||!h.isDescendant(i[1],a[1]))return null;n-=u.text.length,u=i[0],t=i[1]}return{path:t,offset:n}}function xa(r,e){var t=An(r,e.anchor);if(!t)return null;if(E.isCollapsed(e))return{anchor:t,focus:t};var n=An(r,e.focus);return n?{anchor:t,focus:n}:null}function Fn(r,e,t){var n=Le.get(r),u=n==null?void 0:n.find(v=>{var{path:D}=v;return h.equals(D,e.path)});if(!u||e.offset<=u.diff.start)return te.transform(e,t,{affinity:"backward"});var{diff:a}=u;if(e.offset<=a.start+a.text.length){var i={path:e.path,offset:a.start},l=te.transform(i,t,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-a.start}:null}var f={path:e.path,offset:e.offset-a.text.length+a.end-a.start},c=te.transform(f,t,{affinity:"backward"});return c?t.type==="split_node"&&h.equals(t.path,e.path)&&f.offset<t.position&&a.start<t.position?c:{path:c.path,offset:c.offset+a.text.length-a.end+a.start}:null}function Pa(r,e,t){var n=Fn(r,e.anchor,t);if(!n)return null;if(E.isCollapsed(e))return{anchor:n,focus:n};var u=Fn(r,e.focus,t);return u?{anchor:n,focus:u}:null}function _f(r,e){var{path:t,diff:n,id:u}=r;switch(e.type){case"insert_text":return!h.equals(e.path,t)||e.offset>=n.end?r:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:u,path:t}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:u,path:t};case"remove_text":return!h.equals(e.path,t)||e.offset>=n.end?r:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:u,path:t}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:u,path:t};case"split_node":return!h.equals(e.path,t)||e.position>=n.end?{diff:n,id:u,path:h.transform(t,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:u,path:t}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:u,path:h.transform(t,e,{affinity:"forward"})};case"merge_node":return h.equals(e.path,t)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:u,path:h.transform(t,e)}:{diff:n,id:u,path:h.transform(t,e)}}var a=h.transform(t,e);return a?{diff:n,path:a,id:u}:null}function Sa(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Rt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sa(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Sa(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Xf=25,Jf=200,Zf=function(){},Qf=r=>(r==null?void 0:r.constructor.name)==="DataTransfer";function ec(r){var{editor:e,scheduleOnDOMSelectionChange:t,onDOMSelectionChange:n}=r,u=!1,a=null,i=null,l=null,f=0,c=!1,v=()=>{var T=pr.get(e);if(pr.delete(e),T){var{selection:L}=e,j=xa(e,T);j&&(!L||!E.equals(j,L))&&x.select(e,j)}},D=()=>{var T=mr.get(e);if(mr.delete(e),!!T){if(T.at){var L=te.isPoint(T.at)?An(e,T.at):xa(e,T.at);if(!L)return;var j=s.range(e,L);(!e.selection||!E.equals(e.selection,j))&&x.select(e,L)}T.run()}},g=()=>{if(i&&(clearTimeout(i),i=null),l&&(clearTimeout(l),l=null),!N()&&!S()){v();return}u||(u=!0,setTimeout(()=>u=!1)),S()&&(u="action");var T=e.selection&&s.rangeRef(e,e.selection,{affinity:"forward"});lr.set(e,e.marks),Zf("flush",mr.get(e),Le.get(e));for(var L=N(),j;j=(M=Le.get(e))===null||M===void 0?void 0:M[0];){var M,re,Y=Je.get(e);Y!==void 0&&(Je.delete(e),e.marks=Y),Y&&c===!1&&(c=null);var ce=Gf(j);(!e.selection||!E.equals(e.selection,ce))&&x.select(e,ce),j.diff.text?s.insertText(e,j.diff.text):s.deleteFragment(e),Le.set(e,(re=Le.get(e))===null||re===void 0?void 0:re.filter(ge=>{var{id:ve}=ge;return ve!==j.id})),Hf(e,j)||(L=!1,mr.delete(e),lr.delete(e),u="action",pr.delete(e),t.cancel(),n.cancel(),T==null||T.unref())}var X=T==null?void 0:T.unref();if(X&&!pr.get(e)&&(!e.selection||!E.equals(X,e.selection))&&x.select(e,X),S()){D();return}L&&t(),t.flush(),n.flush(),v();var ne=lr.get(e);lr.delete(e),ne!==void 0&&(e.marks=ne,e.onChange())},C=T=>{a&&clearTimeout(a),a=setTimeout(()=>{Sr.set(e,!1),g()},Xf)},m=T=>{Sr.set(e,!0),a&&(clearTimeout(a),a=null)},o=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=gn.get(e);if(j){if(N()||L){j.style.display="none";return}j.style.removeProperty("display")}},B=(T,L)=>{var j,M=(j=Le.get(e))!==null&&j!==void 0?j:[];Le.set(e,M);var re=R.leaf(e,T),Y=M.findIndex(ne=>h.equals(ne.path,T));if(Y<0){var ce=Oa(re.text,L);ce&&M.push({path:T,diff:L,id:f++}),o();return}var X=Yf(re.text,M[Y].diff,L);if(!X){M.splice(Y,1),o();return}M[Y]=Rt(Rt({},M[Y]),{},{diff:X})},b=function(L){var{at:j}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c=!1,pr.delete(e),t.cancel(),n.cancel(),S()&&g(),mr.set(e,{at:j,run:L}),l=setTimeout(g)},A=T=>{var L;i&&(clearTimeout(i),i=null);var{inputType:j}=T,M=null,re=T.dataTransfer||T.data||void 0;c!==!1&&j!=="insertText"&&j!=="insertCompositionText"&&(c=!1);var[Y]=T.getTargetRanges();Y&&(M=w.toSlateRange(e,Y,{exactMatch:!1,suppressThrow:!0}));var ce=w.getWindow(e),X=ce.getSelection();if(!M&&X&&(Y=X,M=w.toSlateRange(e,X,{exactMatch:!1,suppressThrow:!0})),M=(L=M)!==null&&L!==void 0?L:e.selection,!!M){var ne=!0;if(j.startsWith("delete")){if(E.isExpanded(M)){var[ge,ve]=E.edges(M),Fe=R.leaf(e,ge.path);if(Fe.text.length===ge.offset&&ve.offset===0){var p=s.next(e,{at:ge.path,match:K.isText});p&&h.equals(p[1],ve.path)&&(M={anchor:ve,focus:ve})}}var O=j.endsWith("Backward")?"backward":"forward",[y,k]=E.edges(M),[Q,G]=s.leaf(e,y.path),ee={text:"",start:y.offset,end:k.offset},oe=Le.get(e),ie=oe==null?void 0:oe.find(Ke=>h.equals(Ke.path,G)),De=ie?[ie.diff,ee]:[ee],ue=ya(Q.text,...De);if(ue.length===0&&(ne=!1),E.isExpanded(M)){if(ne&&h.equals(M.anchor.path,M.focus.path)){var be={path:M.anchor.path,offset:y.offset},Ae=s.range(e,be,be);return z(Ae),B(M.anchor.path,{text:"",end:k.offset,start:y.offset})}return b(()=>s.deleteFragment(e,{direction:O}),{at:M})}}switch(j){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return b(()=>s.deleteFragment(e),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:Ce}=M;if(ne&&E.isCollapsed(M)){var We=R.leaf(e,Ce.path);if(Ce.offset<We.text.length)return B(Ce.path,{text:"",start:Ce.offset,end:Ce.offset+1})}return b(()=>s.deleteForward(e),{at:M})}case"deleteContentBackward":{var Ie,{anchor:je}=M,He=En(Y)?Y.isCollapsed:!!((Ie=Y)!==null&&Ie!==void 0&&Ie.collapsed);return ne&&He&&E.isCollapsed(M)&&je.offset>0?B(je.path,{text:"",start:je.offset-1,end:je.offset}):b(()=>s.deleteBackward(e),{at:M})}case"deleteEntireSoftLine":return b(()=>{s.deleteBackward(e,{unit:"line"}),s.deleteForward(e,{unit:"line"})},{at:M});case"deleteHardLineBackward":return b(()=>s.deleteBackward(e,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return b(()=>s.deleteBackward(e,{unit:"line"}),{at:M});case"deleteHardLineForward":return b(()=>s.deleteForward(e,{unit:"block"}),{at:M});case"deleteSoftLineForward":return b(()=>s.deleteForward(e,{unit:"line"}),{at:M});case"deleteWordBackward":return b(()=>s.deleteBackward(e,{unit:"word"}),{at:M});case"deleteWordForward":return b(()=>s.deleteForward(e,{unit:"word"}),{at:M});case"insertLineBreak":return b(()=>s.insertSoftBreak(e),{at:M});case"insertParagraph":return b(()=>s.insertBreak(e),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Qf(re))return b(()=>w.insertData(e,re),{at:M});var de=re??"";if(Je.get(e)&&(de=de.replace("\uFEFF","")),j==="insertText"&&/.*\n.*\n$/.test(de)&&(de=de.slice(0,-1)),de.includes(`
`))return b(()=>{var Ke=de.split(`
`);Ke.forEach((ar,Nr)=>{ar&&s.insertText(e,ar),Nr!==Ke.length-1&&s.insertSoftBreak(e)})},{at:M});if(h.equals(M.anchor.path,M.focus.path)){var[Se,Oe]=E.edges(M),we={start:Se.offset,end:Oe.offset,text:de};if(de&&c&&j==="insertCompositionText"){var ze=c.start+c.text.search(/\S|$/),ur=we.start+we.text.search(/\S|$/);ur===ze+1&&we.end===c.start+c.text.length?(we.start-=1,c=null,V()):c=!1}else j==="insertText"?c===null?c=we:c&&E.isCollapsed(M)&&c.end+c.text.length===Se.offset?c=Rt(Rt({},c),{},{text:c.text+de}):c=!1:c=!1;if(ne){B(Se.path,we);return}}return b(()=>s.insertText(e,de),{at:M})}}}},S=()=>!!mr.get(e),N=()=>{var T;return!!((T=Le.get(e))!==null&&T!==void 0&&T.length)},$=()=>S()||N(),W=()=>u,z=T=>{pr.set(e,T),i&&(clearTimeout(i),i=null);var{selection:L}=e;if(T){var j=!L||!h.equals(L.anchor.path,T.anchor.path),M=!L||!h.equals(L.anchor.path.slice(0,-1),T.anchor.path.slice(0,-1));(j&&c||M)&&(c=!1),(j||N())&&(i=setTimeout(g,Jf))}},U=()=>{(S()||!N())&&g()},I=T=>{N()||(o(!0),setTimeout(o))},V=()=>{S()||(l=setTimeout(g))},_=T=>{if(!(N()||S())&&T.some(j=>bn(e,j,T))){var L;(L=Ea.get(e))===null||L===void 0||L()}};return{flush:g,scheduleFlush:V,hasPendingDiffs:N,hasPendingAction:S,hasPendingChanges:$,isFlushing:W,handleUserSelect:z,handleCompositionEnd:C,handleCompositionStart:m,handleDOMBeforeInput:A,handleKeyDown:I,handleDomMutations:_,handleInput:U}}function rc(){var r=F.useRef(!1);return F.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),r.current}var it=St?F.useLayoutEffect:F.useEffect;function tc(r,e,t){var[n]=F.useState(()=>new MutationObserver(e));it(()=>{n.takeRecords()}),F.useEffect(()=>{if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(r.current,t),()=>n.disconnect()},[n,r,t])}var nc=["node"];function Ta(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function uc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ta(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ta(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ac={subtree:!0,childList:!0,characterData:!0},ic=Re?r=>{var{node:e}=r,t=$r(r,nc);if(!Re)return null;var n=hr(),u=rc(),[a]=F.useState(()=>ec(uc({editor:n},t)));return tc(e,a.handleDomMutations,ac),Cn.set(n,a.scheduleFlush),u&&a.flush(),a}:()=>null,sc=["anchor","focus"],oc=["anchor","focus"],lc=(r,e)=>Object.keys(r).length===Object.keys(e).length&&Object.keys(r).every(t=>e.hasOwnProperty(t)&&r[t]===e[t]),ja=(r,e)=>{var t=$r(r,sc),n=$r(e,oc);return r[Wr]===e[Wr]&&lc(t,n)},fc=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],u=e[t];if(!E.equals(n,u)||!ja(n,u))return!1}return!0},cc=(r,e)=>{if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++){var n=r[t],u=e[t];if(n.anchor.offset!==u.anchor.offset||n.focus.offset!==u.focus.offset||!ja(n,u))return!1}return!0};function Na(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function vc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Na(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Na(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var dc=r=>{var{isLast:e,leaf:t,parent:n,text:u}=r,a=hr(),i=w.findPath(a,u),l=h.parent(i),f=!!t[ba];return a.isVoid(n)?F.createElement(wn,{length:R.string(n).length}):t.text===""&&n.children[n.children.length-1]===u&&!a.isInline(n)&&s.string(a,l)===""?F.createElement(wn,{isLineBreak:!0,isMarkPlaceholder:f}):t.text===""?F.createElement(wn,{isMarkPlaceholder:f}):e&&t.text.slice(-1)===`
`?F.createElement(Ra,{isTrailing:!0,text:t.text}):F.createElement(Ra,{text:t.text})},Ra=r=>{var{text:e,isTrailing:t=!1}=r,n=F.useRef(null),u=()=>"".concat(e??"").concat(t?`
`:""),[a]=F.useState(u);return it(()=>{var i=u();n.current&&n.current.textContent!==i&&(n.current.textContent=i)}),F.createElement(hc,{ref:n},a)},hc=F.memo(F.forwardRef((r,e)=>F.createElement("span",{"data-slate-string":!0,ref:e},r.children))),wn=r=>{var{length:e=0,isLineBreak:t=!1,isMarkPlaceholder:n=!1}=r,u={"data-slate-zero-width":t?"n":"z","data-slate-length":e};return n&&(u["data-slate-mark-placeholder"]=!0),F.createElement("span",vc({},u),!Re||!t?"\uFEFF":null,t?F.createElement("br",null):null)};function Ma(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Ia(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ma(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ma(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Dc=Re?300:0;function gc(r,e){r.current&&(r.current.disconnect(),e&&(r.current=null))}function ka(r){r.current&&(clearTimeout(r.current),r.current=null)}var mc=r=>{var{leaf:e,isLast:t,text:n,parent:u,renderPlaceholder:a,renderLeaf:i=A=>F.createElement(Cc,Ia({},A))}=r,l=hr(),f=F.useRef(null),c=F.useRef(null),[v,D]=F.useState(!1),g=F.useRef(null),C=F.useCallback(A=>{if(gc(f,A==null),A==null){var S;gn.delete(l),(S=e.onPlaceholderResize)===null||S===void 0||S.call(e,null)}else{if(gn.set(l,A),!f.current){var N=window.ResizeObserver||Bf;f.current=new N(()=>{var $;($=e.onPlaceholderResize)===null||$===void 0||$.call(e,A)})}f.current.observe(A),c.current=A}},[c,e,l]),m=F.createElement(dc,{isLast:t,leaf:e,parent:u,text:n}),o=!!e[Wr];if(F.useEffect(()=>(o?g.current||(g.current=setTimeout(()=>{D(!0),g.current=null},Dc)):(ka(g),D(!1)),()=>ka(g)),[o,D]),o&&v){var B={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:nt?"inherit":void 0},contentEditable:!1,ref:C}};m=F.createElement(F.Fragment,null,a(B),m)}var b={"data-slate-leaf":!0};return i({attributes:b,children:m,leaf:e,text:n})},pc=F.memo(mc,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&K.equals(e.leaf,r.leaf)&&e.leaf[Wr]===r.leaf[Wr]),Cc=r=>{var{attributes:e,children:t}=r;return F.createElement("span",Ia({},e),t)},Bc=r=>{for(var{decorations:e,isLast:t,parent:n,renderPlaceholder:u,renderLeaf:a,text:i}=r,l=hr(),f=F.useRef(null),c=K.decorations(i,e),v=w.findKey(l,i),D=[],g=0;g<c.length;g++){var C=c[g];D.push(F.createElement(pc,{isLast:t&&g===c.length-1,key:"".concat(v.id,"-").concat(g),renderPlaceholder:u,leaf:C,text:i,parent:n,renderLeaf:a}))}var m=F.useCallback(o=>{var B=Nt.get(l);o?(B==null||B.set(v,o),Pr.set(i,o),ut.set(o,i)):(B==null||B.delete(v),Pr.delete(i),f.current&&ut.delete(f.current)),f.current=o},[f,l,v,i]);return F.createElement("span",{"data-slate-node":"text",ref:m},D)},$a=F.memo(Bc,(r,e)=>e.parent===r.parent&&e.isLast===r.isLast&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&e.text===r.text&&cc(e.decorations,r.decorations));function La(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function yn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?La(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):La(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Ec=r=>{var{decorations:e,element:t,renderElement:n=A=>F.createElement(Ac,yn({},A)),renderPlaceholder:u,renderLeaf:a,selection:i}=r,l=hr(),f=yc(),c=l.isInline(t),v=w.findKey(l,t),D=F.useCallback(A=>{var S=Nt.get(l);A?(S==null||S.set(v,A),Pr.set(t,A),ut.set(A,t)):(S==null||S.delete(v),Pr.delete(t))},[l,v,t]),g=za({decorations:e,node:t,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:i}),C={"data-slate-node":"element",ref:D};if(c&&(C["data-slate-inline"]=!0),!c&&s.hasInlines(l,t)){var m=R.string(t),o=qn(m);o==="rtl"&&(C.dir=o)}if(s.isVoid(l,t)){C["data-slate-void"]=!0,!f&&c&&(C.contentEditable=!1);var B=c?"span":"div",[[b]]=R.texts(t);g=F.createElement(B,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},F.createElement($a,{renderPlaceholder:u,decorations:[],isLast:!1,parent:t,text:b})),hn.set(b,0),Dn.set(b,t)}return n({attributes:C,children:g,element:t})},bc=F.memo(Ec,(r,e)=>r.element===e.element&&r.renderElement===e.renderElement&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&fc(r.decorations,e.decorations)&&(r.selection===e.selection||!!r.selection&&!!e.selection&&E.equals(r.selection,e.selection))),Ac=r=>{var{attributes:e,children:t,element:n}=r,u=hr(),a=u.isInline(n)?"span":"div";return F.createElement(a,yn(yn({},e),{},{style:{position:"relative"}}),t)},Wa=F.createContext(()=>[]),Fc=()=>F.useContext(Wa),wc=F.createContext(!1),za=r=>{for(var{decorations:e,node:t,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:i}=r,l=Fc(),f=hr(),c=w.findPath(f,t),v=[],D=H.isElement(t)&&!f.isInline(t)&&s.hasInlines(f,t),g=0;g<t.children.length;g++){var C=c.concat(g),m=t.children[g],o=w.findKey(f,m),B=s.range(f,C),b=i&&E.intersection(B,i),A=l([m,C]);for(var S of e){var N=E.intersection(S,B);N&&A.push(N)}H.isElement(m)?v.push(F.createElement(wc.Provider,{key:"provider-".concat(o.id),value:!!b},F.createElement(bc,{decorations:A,element:m,key:o.id,renderElement:n,renderPlaceholder:u,renderLeaf:a,selection:b}))):v.push(F.createElement($a,{decorations:A,key:o.id,isLast:D&&g===t.children.length-1,parent:t,renderPlaceholder:u,renderLeaf:a,text:m})),hn.set(m,g),Dn.set(m,t)}return v},Va=F.createContext(!1),yc=()=>F.useContext(Va),qa=F.createContext(null),Oc=()=>{var r=F.useContext(qa);if(!r)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=r;return e};function xc(){var r=hr(),e=F.useRef(!1),t=F.useRef(0),n=F.useCallback(()=>{if(!e.current){e.current=!0;var u=w.getWindow(r);u.cancelAnimationFrame(t.current),t.current=u.requestAnimationFrame(()=>{e.current=!1})}},[r]);return F.useEffect(()=>()=>cancelAnimationFrame(t.current),[]),{receivedUserInput:e,onUserInput:n}}var Pc=3,Sc={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Tc={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},jc={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},pe=r=>{var e=Sc[r],t=Tc[r],n=jc[r],u=e&&vn(e),a=t&&vn(t),i=n&&vn(n);return l=>!!(u&&u(l)||pa&&a&&a(l)||!pa&&i&&i(l))},Be={isBold:pe("bold"),isCompose:pe("compose"),isMoveBackward:pe("moveBackward"),isMoveForward:pe("moveForward"),isDeleteBackward:pe("deleteBackward"),isDeleteForward:pe("deleteForward"),isDeleteLineBackward:pe("deleteLineBackward"),isDeleteLineForward:pe("deleteLineForward"),isDeleteWordBackward:pe("deleteWordBackward"),isDeleteWordForward:pe("deleteWordForward"),isExtendBackward:pe("extendBackward"),isExtendForward:pe("extendForward"),isExtendLineBackward:pe("extendLineBackward"),isExtendLineForward:pe("extendLineForward"),isItalic:pe("italic"),isMoveLineBackward:pe("moveLineBackward"),isMoveLineForward:pe("moveLineForward"),isMoveWordBackward:pe("moveWordBackward"),isMoveWordForward:pe("moveWordForward"),isRedo:pe("redo"),isSoftBreak:pe("insertSoftBreak"),isSplitBlock:pe("splitBlock"),isTransposeCharacter:pe("transposeCharacter"),isUndo:pe("undo")},Nc=(r,e)=>{var t=[],n=()=>{t=[]},u=i=>{if(e.current){var l=i.filter(f=>bn(r,f,i));t.push(...l)}};function a(){t.length>0&&(t.reverse().forEach(i=>{i.type!=="characterData"&&(i.removedNodes.forEach(l=>{i.target.insertBefore(l,i.nextSibling)}),i.addedNodes.forEach(l=>{i.target.removeChild(l)}))}),n())}return{registerMutations:u,restoreDOM:a,clear:n}},Rc={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Ha extends F.Component{constructor(){super(...arguments),Ue(this,"context",null),Ue(this,"manager",null),Ue(this,"mutationObserver",null)}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(t.current,Rc)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=Nc(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,u=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(u!=null&&u.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(u)}return(t=this.mutationObserver)===null||t===void 0||t.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}Ue(Ha,"contextType",dn);var Mc=Re?Ha:r=>{var{children:e}=r;return F.createElement(F.Fragment,null,e)},Ic=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],kc=["text"];function Ka(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function er(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ka(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ka(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var $c=r=>F.createElement(F.Fragment,null,za(r)),Lc=r=>{var e=F.useCallback(p=>F.createElement(Wc,er({},p)),[]),{autoFocus:t,decorate:n=zc,onDOMBeforeInput:u,placeholder:a,readOnly:i=!1,renderElement:l,renderLeaf:f,renderPlaceholder:c=e,scrollSelectionIntoView:v=Vc,style:D={},as:g="div",disableDefaultStyles:C=!1}=r,m=$r(r,Ic),o=Oc(),[B,b]=F.useState(!1),A=F.useRef(null),S=F.useRef([]),[N,$]=F.useState(),{onUserInput:W,receivedUserInput:z}=xc(),[,U]=F.useReducer(p=>p+1,0);Ea.set(o,U),mn.set(o,i);var I=F.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);F.useEffect(()=>{A.current&&t&&A.current.focus()},[t]);var V=F.useRef(),_=F.useMemo(()=>ms(()=>{var p=V.current;if((Re||!w.isComposing(o))&&(!I.isUpdatingSelection||p!=null&&p.isFlushing())&&!I.isDraggingInternally){var O=w.findDocumentOrShadowRoot(o),{activeElement:y}=O,k=w.toDOMNode(o,o),Q=O.getSelection();if(y===k?(I.latestElement=y,gr.set(o,!0)):gr.delete(o),!Q)return x.deselect(o);var{anchorNode:G,focusNode:ee}=Q,oe=w.hasEditableTarget(o,G)||w.isTargetInsideNonReadonlyVoid(o,G),ie=w.hasEditableTarget(o,ee)||w.isTargetInsideNonReadonlyVoid(o,ee);if(oe&&ie){var De=w.toSlateRange(o,Q,{exactMatch:!1,suppressThrow:!0});De&&(!w.isComposing(o)&&!(p!=null&&p.hasPendingChanges())&&!(p!=null&&p.isFlushing())?x.select(o,De):p==null||p.handleUserSelect(De))}i&&(!oe||!ie)&&x.deselect(o)}},100),[o,i,I]),T=F.useMemo(()=>cs(_,0),[_]);V.current=ic({node:A,onDOMSelectionChange:_,scheduleOnDOMSelectionChange:T}),it(()=>{var p,O,y;A.current&&(y=Bn(A.current))?(Ba.set(o,y),Tt.set(o,A.current),Pr.set(o,A.current),ut.set(A.current,o)):Pr.delete(o);var{selection:k}=o,Q=w.findDocumentOrShadowRoot(o),G=Q.getSelection();if(!(!G||!w.isFocused(o)||(p=V.current)!==null&&p!==void 0&&p.hasPendingAction())){var ee=ue=>{var be=G.type!=="None";if(!(!k&&!be)){var Ae=G.focusNode,Ce;if(Lr&&G.rangeCount>1){var We=G.getRangeAt(0),Ie=G.getRangeAt(G.rangeCount-1);We.startContainer===Ae?Ce=Ie.endContainer:Ce=We.startContainer}else Ce=G.anchorNode;var je=Tt.get(o),He=!1;if(je.contains(Ce)&&je.contains(Ae)&&(He=!0),be&&He&&k&&!ue){var de=w.toSlateRange(o,G,{exactMatch:!0,suppressThrow:!0});if(de&&E.equals(de,k)){var Se;if(!I.hasMarkPlaceholder||(Se=Ce)!==null&&Se!==void 0&&(Se=Se.parentElement)!==null&&Se!==void 0&&Se.hasAttribute("data-slate-mark-placeholder"))return}}if(k&&!w.hasRange(o,k)){o.selection=w.toSlateRange(o,G,{exactMatch:!1,suppressThrow:!0});return}I.isUpdatingSelection=!0;var Oe=k&&w.toDOMRange(o,k);return Oe?(w.isComposing(o)&&!Re?G.collapseToEnd():E.isBackward(k)?G.setBaseAndExtent(Oe.endContainer,Oe.endOffset,Oe.startContainer,Oe.startOffset):G.setBaseAndExtent(Oe.startContainer,Oe.startOffset,Oe.endContainer,Oe.endOffset),v(o,Oe)):G.removeAllRanges(),Oe}};G.rangeCount<=1&&ee();var oe=((O=V.current)===null||O===void 0?void 0:O.isFlushing())==="action";if(!Re||!oe){setTimeout(()=>{I.isUpdatingSelection=!1});return}var ie=null,De=requestAnimationFrame(()=>{if(oe){var ue=be=>{try{var Ae=w.toDOMNode(o,o);Ae.focus(),ee(be)}catch{}};ue(),ie=setTimeout(()=>{ue(!0),I.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(De),ie&&clearTimeout(ie)}}});var L=F.useCallback(p=>{if(W(),!i&&w.hasEditableTarget(o,p.target)&&!qc(p,u)){var O;if(V.current)return V.current.handleDOMBeforeInput(p);T.flush(),_.flush();var{selection:y}=o,{inputType:k}=p,Q=p.dataTransfer||p.data||void 0,G=k==="insertCompositionText"||k==="deleteCompositionText";if(G&&w.isComposing(o))return;var ee=!1;if(k==="insertText"&&y&&E.isCollapsed(y)&&p.data&&p.data.length===1&&/[a-z ]/i.test(p.data)&&y.anchor.offset!==0){var oe,ie;ee=!0,o.marks&&(ee=!1);var{anchor:De}=y,[ue,be]=w.toDOMPoint(o,De),Ae=(oe=ue.parentElement)===null||oe===void 0?void 0:oe.closest("a"),Ce=w.getWindow(o);if(ee&&Ae&&w.hasDOMNode(o,Ae)){var We,Ie=Ce==null?void 0:Ce.document.createTreeWalker(Ae,NodeFilter.SHOW_TEXT).lastChild();Ie===ue&&((We=Ie.textContent)===null||We===void 0?void 0:We.length)===be&&(ee=!1)}if(ee&&ue.parentElement&&(Ce==null||(ie=Ce.getComputedStyle(ue.parentElement))===null||ie===void 0?void 0:ie.whiteSpace)==="pre"){var je=s.above(o,{at:De.path,match:ze=>H.isElement(ze)&&s.isBlock(o,ze)});je&&R.string(je[0]).includes("	")&&(ee=!1)}}if(!k.startsWith("delete")||k.startsWith("deleteBy")){var[He]=p.getTargetRanges();if(He){var de=w.toSlateRange(o,He,{exactMatch:!1,suppressThrow:!1});if(!y||!E.equals(y,de)){ee=!1;var Se=!G&&o.selection&&s.rangeRef(o,o.selection);x.select(o,de),Se&&at.set(o,Se)}}}if(G)return;if(ee||p.preventDefault(),y&&E.isExpanded(y)&&k.startsWith("delete")){var Oe=k.endsWith("Backward")?"backward":"forward";s.deleteFragment(o,{direction:Oe});return}switch(k){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{s.deleteFragment(o);break}case"deleteContent":case"deleteContentForward":{s.deleteForward(o);break}case"deleteContentBackward":{s.deleteBackward(o);break}case"deleteEntireSoftLine":{s.deleteBackward(o,{unit:"line"}),s.deleteForward(o,{unit:"line"});break}case"deleteHardLineBackward":{s.deleteBackward(o,{unit:"block"});break}case"deleteSoftLineBackward":{s.deleteBackward(o,{unit:"line"});break}case"deleteHardLineForward":{s.deleteForward(o,{unit:"block"});break}case"deleteSoftLineForward":{s.deleteForward(o,{unit:"line"});break}case"deleteWordBackward":{s.deleteBackward(o,{unit:"word"});break}case"deleteWordForward":{s.deleteForward(o,{unit:"word"});break}case"insertLineBreak":s.insertSoftBreak(o);break;case"insertParagraph":{s.insertBreak(o);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{k==="insertFromComposition"&&w.isComposing(o)&&(b(!1),Sr.set(o,!1)),(Q==null?void 0:Q.constructor.name)==="DataTransfer"?w.insertData(o,Q):typeof Q=="string"&&(ee?S.current.push(()=>s.insertText(o,Q)):s.insertText(o,Q));break}}var we=(O=at.get(o))===null||O===void 0?void 0:O.unref();at.delete(o),we&&(!o.selection||!E.equals(o.selection,we))&&x.select(o,we)}},[o,_,W,u,i,T]),j=F.useCallback(p=>{p==null?(_.cancel(),T.cancel(),Tt.delete(o),Pr.delete(o),A.current&&Dr&&A.current.removeEventListener("beforeinput",L)):Dr&&p.addEventListener("beforeinput",L),A.current=p},[_,T,o,L]);it(()=>{var p=w.getWindow(o);return p.document.addEventListener("selectionchange",T),()=>{p.document.removeEventListener("selectionchange",T)}},[T]);var M=n([o,[]]),re=a&&o.children.length===1&&Array.from(R.texts(o)).length===1&&R.string(o)===""&&!B,Y=F.useCallback(p=>{if(p&&re){var O;$((O=p.getBoundingClientRect())===null||O===void 0?void 0:O.height)}else $(void 0)},[re]);if(re){var ce=s.start(o,[]);M.push({[Wr]:!0,placeholder:a,onPlaceholderResize:Y,anchor:ce,focus:ce})}var{marks:X}=o;if(I.hasMarkPlaceholder=!1,o.selection&&E.isCollapsed(o.selection)&&X){var{anchor:ne}=o.selection,ge=R.leaf(o,ne.path),ve=$r(ge,kc);if(!K.equals(ge,X,{loose:!0})){I.hasMarkPlaceholder=!0;var Fe=Object.fromEntries(Object.keys(ve).map(p=>[p,null]));M.push(er(er(er({[ba]:!0},Fe),X),{},{anchor:ne,focus:ne}))}}return F.useEffect(()=>{setTimeout(()=>{var{selection:p}=o;if(p){var{anchor:O}=p,y=R.leaf(o,O.path);if(X&&!K.equals(y,X,{loose:!0})){Je.set(o,X);return}}Je.delete(o)})}),F.createElement(Va.Provider,{value:i},F.createElement(Wa.Provider,{value:n},F.createElement(Mc,{node:A,receivedUserInput:z},F.createElement(g,er(er({role:i?void 0:"textbox","aria-multiline":i?void 0:!0},m),{},{spellCheck:Dr||!St?m.spellCheck:!1,autoCorrect:Dr||!St?m.autoCorrect:"false",autoCapitalize:Dr||!St?m.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!i,zindex:-1,suppressContentEditableWarning:!0,ref:j,style:er(er({},C?{}:er({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},N?{minHeight:N}:{})),D),onBeforeInput:F.useCallback(p=>{if(!Dr&&!i&&!Me(p,m.onBeforeInput)&&w.hasSelectableTarget(o,p.target)&&(p.preventDefault(),!w.isComposing(o))){var O=p.data;s.insertText(o,O)}},[m.onBeforeInput,o,i]),onInput:F.useCallback(p=>{if(!Me(p,m.onInput)){if(V.current){V.current.handleInput();return}for(var O of S.current)O();S.current=[]}},[m.onInput]),onBlur:F.useCallback(p=>{if(!(i||I.isUpdatingSelection||!w.hasSelectableTarget(o,p.target)||Me(p,m.onBlur))){var O=w.findDocumentOrShadowRoot(o);if(I.latestElement!==O.activeElement){var{relatedTarget:y}=p,k=w.toDOMNode(o,o);if(y!==k&&!(Ye(y)&&y.hasAttribute("data-slate-spacer"))){if(y!=null&&Cr(y)&&w.hasDOMNode(o,y)){var Q=w.toSlateNode(o,y);if(H.isElement(Q)&&!o.isVoid(Q))return}if(nt){var G=O.getSelection();G==null||G.removeAllRanges()}gr.delete(o)}}}},[i,I.isUpdatingSelection,I.latestElement,o,m.onBlur]),onClick:F.useCallback(p=>{if(w.hasTarget(o,p.target)&&!Me(p,m.onClick)&&Cr(p.target)){var O=w.toSlateNode(o,p.target),y=w.findPath(o,O);if(!s.hasPath(o,y)||R.get(o,y)!==O)return;if(p.detail===Pc&&y.length>=1){var k=y;if(!(H.isElement(O)&&s.isBlock(o,O))){var Q,G=s.above(o,{match:Ae=>H.isElement(Ae)&&s.isBlock(o,Ae),at:y});k=(Q=G==null?void 0:G[1])!==null&&Q!==void 0?Q:y.slice(0,1)}var ee=s.range(o,k);x.select(o,ee);return}if(i)return;var oe=s.start(o,y),ie=s.end(o,y),De=s.void(o,{at:oe}),ue=s.void(o,{at:ie});if(De&&ue&&h.equals(De[1],ue[1])){var be=s.range(o,oe);x.select(o,be)}}},[o,m.onClick,i]),onCompositionEnd:F.useCallback(p=>{if(w.hasSelectableTarget(o,p.target)){var O;if(w.isComposing(o)&&Promise.resolve().then(()=>{b(!1),Sr.set(o,!1)}),(O=V.current)===null||O===void 0||O.handleCompositionEnd(p),Me(p,m.onCompositionEnd)||Re)return;if(!nt&&!Tf&&!Of&&!Nf&&!jf&&p.data){var y=Je.get(o);Je.delete(o),y!==void 0&&(lr.set(o,o.marks),o.marks=y),s.insertText(o,p.data);var k=lr.get(o);lr.delete(o),k!==void 0&&(o.marks=k)}}},[m.onCompositionEnd,o]),onCompositionUpdate:F.useCallback(p=>{w.hasSelectableTarget(o,p.target)&&!Me(p,m.onCompositionUpdate)&&(w.isComposing(o)||(b(!0),Sr.set(o,!0)))},[m.onCompositionUpdate,o]),onCompositionStart:F.useCallback(p=>{if(w.hasSelectableTarget(o,p.target)){var O;if((O=V.current)===null||O===void 0||O.handleCompositionStart(p),Me(p,m.onCompositionStart)||Re)return;b(!0);var{selection:y}=o;if(y&&E.isExpanded(y)){s.deleteFragment(o);return}}},[m.onCompositionStart,o]),onCopy:F.useCallback(p=>{w.hasSelectableTarget(o,p.target)&&!Me(p,m.onCopy)&&!Ua(p)&&(p.preventDefault(),w.setFragmentData(o,p.clipboardData,"copy"))},[m.onCopy,o]),onCut:F.useCallback(p=>{if(!i&&w.hasSelectableTarget(o,p.target)&&!Me(p,m.onCut)&&!Ua(p)){p.preventDefault(),w.setFragmentData(o,p.clipboardData,"cut");var{selection:O}=o;if(O)if(E.isExpanded(O))s.deleteFragment(o);else{var y=R.parent(o,O.anchor.path);s.isVoid(o,y)&&x.delete(o)}}},[i,o,m.onCut]),onDragOver:F.useCallback(p=>{if(w.hasTarget(o,p.target)&&!Me(p,m.onDragOver)){var O=w.toSlateNode(o,p.target);H.isElement(O)&&s.isVoid(o,O)&&p.preventDefault()}},[m.onDragOver,o]),onDragStart:F.useCallback(p=>{if(!i&&w.hasTarget(o,p.target)&&!Me(p,m.onDragStart)){var O=w.toSlateNode(o,p.target),y=w.findPath(o,O),k=H.isElement(O)&&s.isVoid(o,O)||s.void(o,{at:y,voids:!0});if(k){var Q=s.range(o,y);x.select(o,Q)}I.isDraggingInternally=!0,w.setFragmentData(o,p.dataTransfer,"drag")}},[i,o,m.onDragStart,I]),onDrop:F.useCallback(p=>{if(!i&&w.hasTarget(o,p.target)&&!Me(p,m.onDrop)){p.preventDefault();var O=o.selection,y=w.findEventRange(o,p),k=p.dataTransfer;x.select(o,y),I.isDraggingInternally&&O&&!E.equals(O,y)&&!s.void(o,{at:y,voids:!0})&&x.delete(o,{at:O}),w.insertData(o,k),w.isFocused(o)||w.focus(o)}I.isDraggingInternally=!1},[i,o,m.onDrop,I]),onDragEnd:F.useCallback(p=>{!i&&I.isDraggingInternally&&m.onDragEnd&&w.hasTarget(o,p.target)&&m.onDragEnd(p),I.isDraggingInternally=!1},[i,I,m,o]),onFocus:F.useCallback(p=>{if(!i&&!I.isUpdatingSelection&&w.hasEditableTarget(o,p.target)&&!Me(p,m.onFocus)){var O=w.toDOMNode(o,o),y=w.findDocumentOrShadowRoot(o);if(I.latestElement=y.activeElement,Lr&&p.target!==O){O.focus();return}gr.set(o,!0)}},[i,I,o,m.onFocus]),onKeyDown:F.useCallback(p=>{if(!i&&w.hasEditableTarget(o,p.target)){var O;(O=V.current)===null||O===void 0||O.handleKeyDown(p);var{nativeEvent:y}=p;if(w.isComposing(o)&&y.isComposing===!1&&(Sr.set(o,!1),b(!1)),Me(p,m.onKeyDown)||w.isComposing(o))return;var{selection:k}=o,Q=o.children[k!==null?k.focus.path[0]:0],G=qn(R.string(Q))==="rtl";if(Be.isRedo(y)){p.preventDefault();var ee=o;typeof ee.redo=="function"&&ee.redo();return}if(Be.isUndo(y)){p.preventDefault();var oe=o;typeof oe.undo=="function"&&oe.undo();return}if(Be.isMoveLineBackward(y)){p.preventDefault(),x.move(o,{unit:"line",reverse:!0});return}if(Be.isMoveLineForward(y)){p.preventDefault(),x.move(o,{unit:"line"});return}if(Be.isExtendLineBackward(y)){p.preventDefault(),x.move(o,{unit:"line",edge:"focus",reverse:!0});return}if(Be.isExtendLineForward(y)){p.preventDefault(),x.move(o,{unit:"line",edge:"focus"});return}if(Be.isMoveBackward(y)){p.preventDefault(),k&&E.isCollapsed(k)?x.move(o,{reverse:!G}):x.collapse(o,{edge:G?"end":"start"});return}if(Be.isMoveForward(y)){p.preventDefault(),k&&E.isCollapsed(k)?x.move(o,{reverse:G}):x.collapse(o,{edge:G?"start":"end"});return}if(Be.isMoveWordBackward(y)){p.preventDefault(),k&&E.isExpanded(k)&&x.collapse(o,{edge:"focus"}),x.move(o,{unit:"word",reverse:!G});return}if(Be.isMoveWordForward(y)){p.preventDefault(),k&&E.isExpanded(k)&&x.collapse(o,{edge:"focus"}),x.move(o,{unit:"word",reverse:G});return}if(Dr){if((Ca||nt)&&k&&(Be.isDeleteBackward(y)||Be.isDeleteForward(y))&&E.isCollapsed(k)){var ie=R.parent(o,k.anchor.path);if(H.isElement(ie)&&s.isVoid(o,ie)&&(s.isInline(o,ie)||s.isBlock(o,ie))){p.preventDefault(),s.deleteBackward(o,{unit:"block"});return}}}else{if(Be.isBold(y)||Be.isItalic(y)||Be.isTransposeCharacter(y)){p.preventDefault();return}if(Be.isSoftBreak(y)){p.preventDefault(),s.insertSoftBreak(o);return}if(Be.isSplitBlock(y)){p.preventDefault(),s.insertBreak(o);return}if(Be.isDeleteBackward(y)){p.preventDefault(),k&&E.isExpanded(k)?s.deleteFragment(o,{direction:"backward"}):s.deleteBackward(o);return}if(Be.isDeleteForward(y)){p.preventDefault(),k&&E.isExpanded(k)?s.deleteFragment(o,{direction:"forward"}):s.deleteForward(o);return}if(Be.isDeleteLineBackward(y)){p.preventDefault(),k&&E.isExpanded(k)?s.deleteFragment(o,{direction:"backward"}):s.deleteBackward(o,{unit:"line"});return}if(Be.isDeleteLineForward(y)){p.preventDefault(),k&&E.isExpanded(k)?s.deleteFragment(o,{direction:"forward"}):s.deleteForward(o,{unit:"line"});return}if(Be.isDeleteWordBackward(y)){p.preventDefault(),k&&E.isExpanded(k)?s.deleteFragment(o,{direction:"backward"}):s.deleteBackward(o,{unit:"word"});return}if(Be.isDeleteWordForward(y)){p.preventDefault(),k&&E.isExpanded(k)?s.deleteFragment(o,{direction:"forward"}):s.deleteForward(o,{unit:"word"});return}}}},[i,o,m.onKeyDown]),onPaste:F.useCallback(p=>{!i&&w.hasEditableTarget(o,p.target)&&!Me(p,m.onPaste)&&(!Dr||If(p.nativeEvent)||nt)&&(p.preventDefault(),w.insertData(o,p.clipboardData))},[i,o,m.onPaste])}),F.createElement($c,{decorations:M,node:o,renderElement:l,renderPlaceholder:c,renderLeaf:f,selection:o.selection})))))},Wc=r=>{var{attributes:e,children:t}=r;return F.createElement("span",er({},e),t,Re&&F.createElement("br",null))},zc=()=>[],Vc=(r,e)=>{if(e.getBoundingClientRect&&(!r.selection||r.selection&&E.isCollapsed(r.selection))){var t=e.startContainer.parentElement;t.getBoundingClientRect=e.getBoundingClientRect.bind(e),Bs(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},Me=(r,e)=>{if(!e)return!1;var t=e(r);return t??(r.isDefaultPrevented()||r.isPropagationStopped())},Ua=r=>Cr(r.target)&&(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement),qc=(r,e)=>{if(!e)return!1;var t=e(r);return t??r.defaultPrevented},Hc=F.createContext(!1),Kc=F.createContext({});function Uc(r){var e=F.useRef([]).current,t=F.useRef({editor:r}).current,n=F.useCallback(a=>{t.editor=a,e.forEach(i=>i(a))},[e,t]),u=F.useMemo(()=>({getSlate:()=>t.editor,addEventListener:a=>(e.push(a),()=>{e.splice(e.indexOf(a),1)})}),[e,t]);return{selectorContext:u,onChange:n}}var Yc=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],Gc=r=>{var{editor:e,children:t,onChange:n,onSelectionChange:u,onValueChange:a,initialValue:i}=r,l=$r(r,Yc),[f,c]=F.useState(()=>{if(!R.isNodeList(i))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Pe.stringify(i)));if(!s.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Pe.stringify(e)));return e.children=i,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:v,onChange:D}=Uc(e),g=F.useCallback(o=>{var B;switch(n&&n(e.children),o==null||(B=o.operation)===null||B===void 0?void 0:B.type){case"set_selection":u==null||u(e.selection);break;default:a==null||a(e.children)}c(b=>({v:b.v+1,editor:e})),D(e)},[e,D,n,u,a]);F.useEffect(()=>(pn.set(e,g),()=>{pn.set(e,()=>{})}),[e,g]);var[C,m]=F.useState(w.isFocused(e));return F.useEffect(()=>{m(w.isFocused(e))},[e]),it(()=>{var o=()=>m(w.isFocused(e));return ma>=17?(document.addEventListener("focusin",o),document.addEventListener("focusout",o),()=>{document.removeEventListener("focusin",o),document.removeEventListener("focusout",o)}):(document.addEventListener("focus",o,!0),document.addEventListener("blur",o,!0),()=>{document.removeEventListener("focus",o,!0),document.removeEventListener("blur",o,!0)})},[]),F.createElement(Kc.Provider,{value:v},F.createElement(qa.Provider,{value:f},F.createElement(dn.Provider,{value:f.editor},F.createElement(Hc.Provider,{value:C},t))))},Ya=(r,e)=>{var t=(e.top+e.bottom)/2;return r.top<=t&&r.bottom>=t},Ga=(r,e,t)=>{var n=w.toDOMRange(r,e).getBoundingClientRect(),u=w.toDOMRange(r,t).getBoundingClientRect();return Ya(n,u)&&Ya(u,n)},_c=(r,e)=>{var t=s.range(r,E.end(e)),n=Array.from(s.positions(r,{at:e})),u=0,a=n.length,i=Math.floor(a/2);if(Ga(r,s.range(r,n[u]),t))return s.range(r,n[u],t);if(n.length<2)return s.range(r,n[n.length-1],t);for(;i!==n.length&&i!==u;)Ga(r,s.range(r,n[i]),t)?a=i:u=i,i=Math.floor((u+a)/2);return s.range(r,n[a],t)};function _a(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Xa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_a(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_a(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Xc=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:u,onChange:a,deleteBackward:i,addMark:l,removeMark:f}=n;return Nt.set(n,new WeakMap),n.addMark=(c,v)=>{var D,g;(D=Cn.get(n))===null||D===void 0||D(),!Je.get(n)&&(g=Le.get(n))!==null&&g!==void 0&&g.length&&Je.set(n,null),lr.delete(n),l(c,v)},n.removeMark=c=>{var v;!Je.get(n)&&(v=Le.get(n))!==null&&v!==void 0&&v.length&&Je.set(n,null),lr.delete(n),f(c)},n.deleteBackward=c=>{if(c!=="line")return i(c);if(n.selection&&E.isCollapsed(n.selection)){var v=s.above(n,{match:m=>H.isElement(m)&&s.isBlock(n,m),at:n.selection});if(v){var[,D]=v,g=s.range(n,D,n.selection.anchor),C=_c(n,g);E.isCollapsed(C)||x.delete(n,{at:C})}}},n.apply=c=>{var v=[],D=[],g=Le.get(n);if(g!=null&&g.length){var C=g.map(j=>_f(j,c)).filter(Boolean);Le.set(n,C)}var m=pr.get(n);m&&pr.set(n,Pa(n,m,c));var o=mr.get(n);if(o!=null&&o.at){var B=te.isPoint(o==null?void 0:o.at)?Fn(n,o.at,c):Pa(n,o.at,c);mr.set(n,B?Xa(Xa({},o),{},{at:B}):null)}switch(c.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{v.push(...zr(n,c.path));break}case"set_selection":{var b;(b=at.get(n))===null||b===void 0||b.unref(),at.delete(n);break}case"insert_node":case"remove_node":{v.push(...zr(n,h.parent(c.path)));break}case"merge_node":{var A=h.previous(c.path);v.push(...zr(n,A));break}case"move_node":{var S=h.common(h.parent(c.path),h.parent(c.newPath));v.push(...zr(n,S));var N;h.isBefore(c.path,c.newPath)?(v.push(...zr(n,h.parent(c.path))),N=c.newPath):(v.push(...zr(n,h.parent(c.newPath))),N=c.path);var $=R.get(e,h.parent(N)),W=w.findKey(n,$),z=s.pathRef(n,h.parent(N));D.push([z,W]);break}}u(c);for(var[U,I]of v){var[V]=s.node(n,U);jt.set(V,I)}for(var[_,T]of D)if(_.current){var[L]=s.node(n,_.current);jt.set(L,T)}},n.setFragmentData=c=>{var{selection:v}=n;if(v){var[D,g]=E.edges(v),C=s.void(n,{at:D.path}),m=s.void(n,{at:g.path});if(!(E.isCollapsed(v)&&!C)){var o=w.toDOMRange(n,v),B=o.cloneContents(),b=B.childNodes[0];if(B.childNodes.forEach(V=>{V.textContent&&V.textContent.trim()!==""&&(b=V)}),m){var[A]=m,S=o.cloneRange(),N=w.toDOMNode(n,A);S.setEndAfter(N),B=S.cloneContents()}if(C&&(b=B.querySelector("[data-slate-spacer]")),Array.from(B.querySelectorAll("[data-slate-zero-width]")).forEach(V=>{var _=V.getAttribute("data-slate-zero-width")==="n";V.textContent=_?`
`:""}),Aa(b)){var $=b.ownerDocument.createElement("span");$.style.whiteSpace="pre",$.appendChild(b),B.appendChild($),b=$}var W=n.getFragment(),z=JSON.stringify(W),U=window.btoa(encodeURIComponent(z));b.setAttribute("data-slate-fragment",U),c.setData("application/".concat(t),U);var I=B.ownerDocument.createElement("div");return I.appendChild(B),I.setAttribute("hidden","true"),B.ownerDocument.body.appendChild(I),c.setData("text/html",I.innerHTML),c.setData("text/plain",wa(I)),B.ownerDocument.body.removeChild(I),c}}},n.insertData=c=>{n.insertFragmentData(c)||n.insertTextData(c)},n.insertFragmentData=c=>{var v=c.getData("application/".concat(t))||zf(c);if(v){var D=decodeURIComponent(window.atob(v)),g=JSON.parse(D);return n.insertFragment(g),!0}return!1},n.insertTextData=c=>{var v=c.getData("text/plain");if(v){var D=v.split(/\r\n|\r|\n/),g=!1;for(var C of D)g&&x.splitNodes(n,{always:!0}),n.insertText(C),g=!0;return!0}return!1},n.onChange=c=>{var v=ma<18?ii.unstable_batchedUpdates:D=>D();v(()=>{var D=pn.get(n);D&&D(c),a(c)})},n},zr=(r,e)=>{var t=[];for(var[n,u]of s.levels(r,{at:e})){var a=w.findKey(r,n);t.push([u,a])}return t},Jc={isHistory(r){return Te(r)&&Array.isArray(r.redos)&&Array.isArray(r.undos)&&(r.redos.length===0||dr.isOperationList(r.redos[0].operations))&&(r.undos.length===0||dr.isOperationList(r.undos[0].operations))}},On=new WeakMap,xn=new WeakMap,Vr={isHistoryEditor(r){return Jc.isHistory(r.history)&&s.isEditor(r)},isMerging(r){return xn.get(r)},isSaving(r){return On.get(r)},redo(r){r.redo()},undo(r){r.undo()},withoutMerging(r,e){var t=Vr.isMerging(r);xn.set(r,!1),e(),xn.set(r,t)},withoutSaving(r,e){var t=Vr.isSaving(r);On.set(r,!1),e(),On.set(r,t)}},Zc=r=>{var e=r,{apply:t}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:u}=n;if(u.length>0){var a=u[u.length-1];a.selectionBefore&&x.setSelection(e,a.selectionBefore),Vr.withoutSaving(e,()=>{s.withoutNormalizing(e,()=>{for(var i of a.operations)e.apply(i)})}),n.redos.pop(),e.writeHistory("undos",a)}},e.undo=()=>{var{history:n}=e,{undos:u}=n;if(u.length>0){var a=u[u.length-1];Vr.withoutSaving(e,()=>{s.withoutNormalizing(e,()=>{var i=a.operations.map(dr.inverse).reverse();for(var l of i)e.apply(l);a.selectionBefore&&x.setSelection(e,a.selectionBefore)})}),e.writeHistory("redos",a),n.undos.pop()}},e.apply=n=>{var{operations:u,history:a}=e,{undos:i}=a,l=i[i.length-1],f=l&&l.operations[l.operations.length-1],c=Vr.isSaving(e),v=Vr.isMerging(e);if(c==null&&(c=ev(n)),c){if(v==null&&(l==null?v=!1:u.length!==0?v=!0:v=Qc(n,f)),l&&v)l.operations.push(n);else{var D={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",D)}for(;i.length>100;)i.shift();a.redos=[]}t(n)},e.writeHistory=(n,u)=>{e.history[n].push(u)},e},Qc=(r,e)=>!!(e&&r.type==="insert_text"&&e.type==="insert_text"&&r.offset===e.offset+e.text.length&&h.equals(r.path,e.path)||e&&r.type==="remove_text"&&e.type==="remove_text"&&r.offset+r.text.length===e.offset&&h.equals(r.path,e.path)),ev=(r,e)=>r.type!=="set_selection";const rv=()=>{const[r]=F.useState(()=>Xc(Zc(Zl())));return[r]},fr=Symbol.for("@ts-pattern/matcher"),tv=Symbol.for("@ts-pattern/isVariadic"),Mt="@ts-pattern/anonymous-select-key",Pn=r=>!!(r&&typeof r=="object"),It=r=>r&&!!r[fr],rr=(r,e,t)=>{if(It(r)){const n=r[fr](),{matched:u,selections:a}=n.match(e);return u&&a&&Object.keys(a).forEach(i=>t(i,a[i])),u}if(Pn(r)){if(!Pn(e))return!1;if(Array.isArray(r)){if(!Array.isArray(e))return!1;let n=[],u=[],a=[];for(const i of r.keys()){const l=r[i];It(l)&&l[tv]?a.push(l):a.length?u.push(l):n.push(l)}if(a.length){if(a.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<n.length+u.length)return!1;const i=e.slice(0,n.length),l=u.length===0?[]:e.slice(-u.length),f=e.slice(n.length,u.length===0?1/0:-u.length);return n.every((c,v)=>rr(c,i[v],t))&&u.every((c,v)=>rr(c,l[v],t))&&(a.length===0||rr(a[0],f,t))}return r.length===e.length&&r.every((i,l)=>rr(i,e[l],t))}return Object.keys(r).every(n=>{const u=r[n];return(n in e||It(a=u)&&a[fr]().matcherType==="optional")&&rr(u,e[n],t);var a})}return Object.is(e,r)},Br=r=>{var e,t,n;return Pn(r)?It(r)?(e=(t=(n=r[fr]()).getSelectionKeys)==null?void 0:t.call(n))!=null?e:[]:Array.isArray(r)?st(r,Br):st(Object.values(r),Br):[]},st=(r,e)=>r.reduce((t,n)=>t.concat(e(n)),[]);function Ge(r){return Object.assign(r,{optional:()=>nv(r),and:e=>Ee(r,e),or:e=>uv(r,e),select:e=>e===void 0?Ja(r):Ja(e,r)})}function nv(r){return Ge({[fr]:()=>({match:e=>{let t={};const n=(u,a)=>{t[u]=a};return e===void 0?(Br(r).forEach(u=>n(u,void 0)),{matched:!0,selections:t}):{matched:rr(r,e,n),selections:t}},getSelectionKeys:()=>Br(r),matcherType:"optional"})})}function Ee(...r){return Ge({[fr]:()=>({match:e=>{let t={};const n=(u,a)=>{t[u]=a};return{matched:r.every(u=>rr(u,e,n)),selections:t}},getSelectionKeys:()=>st(r,Br),matcherType:"and"})})}function uv(...r){return Ge({[fr]:()=>({match:e=>{let t={};const n=(u,a)=>{t[u]=a};return st(r,Br).forEach(u=>n(u,void 0)),{matched:r.some(u=>rr(u,e,n)),selections:t}},getSelectionKeys:()=>st(r,Br),matcherType:"or"})})}function fe(r){return{[fr]:()=>({match:e=>({matched:!!r(e)})})}}function Ja(...r){const e=typeof r[0]=="string"?r[0]:void 0,t=r.length===2?r[1]:typeof r[0]=="string"?void 0:r[0];return Ge({[fr]:()=>({match:n=>{let u={[e??Mt]:n};return{matched:t===void 0||rr(t,n,(a,i)=>{u[a]=i}),selections:u}},getSelectionKeys:()=>[e??Mt].concat(t===void 0?[]:Br(t))})})}function tr(r){return typeof r=="number"}function Tr(r){return typeof r=="string"}function Er(r){return typeof r=="bigint"}Ge(fe(function(r){return!0}));const jr=r=>Object.assign(Ge(r),{startsWith:e=>{return jr(Ee(r,(t=e,fe(n=>Tr(n)&&n.startsWith(t)))));var t},endsWith:e=>{return jr(Ee(r,(t=e,fe(n=>Tr(n)&&n.endsWith(t)))));var t},minLength:e=>jr(Ee(r,(t=>fe(n=>Tr(n)&&n.length>=t))(e))),maxLength:e=>jr(Ee(r,(t=>fe(n=>Tr(n)&&n.length<=t))(e))),includes:e=>{return jr(Ee(r,(t=e,fe(n=>Tr(n)&&n.includes(t)))));var t},regex:e=>{return jr(Ee(r,(t=e,fe(n=>Tr(n)&&!!n.match(t)))));var t}});jr(fe(Tr));const nr=r=>Object.assign(Ge(r),{between:(e,t)=>nr(Ee(r,((n,u)=>fe(a=>tr(a)&&n<=a&&u>=a))(e,t))),lt:e=>nr(Ee(r,(t=>fe(n=>tr(n)&&n<t))(e))),gt:e=>nr(Ee(r,(t=>fe(n=>tr(n)&&n>t))(e))),lte:e=>nr(Ee(r,(t=>fe(n=>tr(n)&&n<=t))(e))),gte:e=>nr(Ee(r,(t=>fe(n=>tr(n)&&n>=t))(e))),int:()=>nr(Ee(r,fe(e=>tr(e)&&Number.isInteger(e)))),finite:()=>nr(Ee(r,fe(e=>tr(e)&&Number.isFinite(e)))),positive:()=>nr(Ee(r,fe(e=>tr(e)&&e>0))),negative:()=>nr(Ee(r,fe(e=>tr(e)&&e<0)))});nr(fe(tr));const br=r=>Object.assign(Ge(r),{between:(e,t)=>br(Ee(r,((n,u)=>fe(a=>Er(a)&&n<=a&&u>=a))(e,t))),lt:e=>br(Ee(r,(t=>fe(n=>Er(n)&&n<t))(e))),gt:e=>br(Ee(r,(t=>fe(n=>Er(n)&&n>t))(e))),lte:e=>br(Ee(r,(t=>fe(n=>Er(n)&&n<=t))(e))),gte:e=>br(Ee(r,(t=>fe(n=>Er(n)&&n>=t))(e))),positive:()=>br(Ee(r,fe(e=>Er(e)&&e>0))),negative:()=>br(Ee(r,fe(e=>Er(e)&&e<0)))});br(fe(Er)),Ge(fe(function(r){return typeof r=="boolean"})),Ge(fe(function(r){return typeof r=="symbol"})),Ge(fe(function(r){return r==null})),Ge(fe(function(r){return r!=null}));const Sn={matched:!1,value:void 0};function ot(r){return new kt(r,Sn)}class kt{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...e){if(this.state.matched)return this;const t=e[e.length-1],n=[e[0]];let u;e.length===3&&typeof e[1]=="function"?u=e[1]:e.length>2&&n.push(...e.slice(1,e.length-1));let a=!1,i={};const l=(c,v)=>{a=!0,i[c]=v},f=!n.some(c=>rr(c,this.input,l))||u&&!u(this.input)?Sn:{matched:!0,value:t(a?Mt in i?i[Mt]:i:this.input,this.input)};return new kt(this.input,f)}when(e,t){if(this.state.matched)return this;const n=!!e(this.input);return new kt(this.input,n?{matched:!0,value:t(this.input,this.input)}:Sn)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;let e;try{e=JSON.stringify(this.input)}catch{e=this.input}throw new Error(`Pattern matching error: no pattern matches value ${e}`)}run(){return this.exhaustive()}returnType(){return this}}var $t=(r=>(r.Paragraph="paragraph",r.Heading="heading",r.Bold="bold",r.Code="code",r))($t||{});const av=r=>{const{attributes:e,children:t}=r;return Xe.jsx("span",{...e,children:t})},iv=r=>{const{attributes:e,children:t}=r;return Xe.jsx("p",{...e,children:t})},sv=r=>{const{attributes:e,children:t}=r;return Xe.jsx("pre",{...e,children:Xe.jsx("code",{children:t})})};var Za={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var e={}.hasOwnProperty;function t(){for(var a="",i=0;i<arguments.length;i++){var l=arguments[i];l&&(a=u(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var i="";for(var l in a)e.call(a,l)&&a[l]&&(i=u(i,l));return i}function u(a,i){return i?a?a+" "+i:a+i:a}r.exports?(t.default=t,r.exports=t):window.classNames=t})()})(Za);var ov=Za.exports;const lv=vt(ov),fv=r=>{const{attributes:e,leaf:t,children:n}=r,u=lv({"wu-font-bold":t.bold,"bg-red":!0});return Xe.jsx("span",{className:u,...e,children:n})},cv=()=>{const r=F.useCallback(t=>{const{children:n,...u}=t,a=t.element.type;return ot(a).with($t.Bold,()=>Xe.jsx(sv,{...u,children:n})).with($t.Code,()=>Xe.jsx(av,{...u,children:n})).otherwise(()=>Xe.jsx(iv,{...u,children:n}))},[]),e=F.useCallback(t=>{const{children:n,...u}=t;return Xe.jsx(fv,{...u,children:n})},[]);return{renderElement:r,renderLeaf:e}};function vv(){return[{type:$t.Paragraph,children:[{text:""}]}]}const Qa={isBoldMarkActive(r){const e=s.marks(r);return ot(e).with({bold:!0},()=>!0).otherwise(()=>!1)},toggleBoldMark(r){const e=Qa.isBoldMarkActive(r);ot(e).with(!0,()=>{s.removeMark(r,"bold")}).otherwise(()=>{s.addMark(r,"bold",!0)})}},dv=r=>[t=>{ot(t).with({ctrlKey:!0},n=>{ot(n.key).with("b",()=>{console.info("切换加粗"),t.preventDefault(),Qa.toggleBoldMark(r)})})}],hv=r=>{const{placeholder:e,initialValue:t=vv()}=r,[n]=rv(),{renderElement:u,renderLeaf:a}=cv(),[i]=dv(n);return Xe.jsx(Gc,{editor:n,initialValue:t,children:Xe.jsx(Lc,{renderElement:u,renderLeaf:a,placeholder:e,onKeyDown:i})})};vr.WuEditor=hv,Object.defineProperty(vr,Symbol.toStringTag,{value:"Module"})});
